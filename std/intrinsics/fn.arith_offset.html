<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Calculates the offset from a pointer, potentially wrapping."><meta name="keywords" content="rust, rustlang, rust-lang, arith_offset"><title>arith_offset in std::intrinsics - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize1.58.0.css"><link rel="stylesheet" type="text/css" href="../../rustdoc1.58.0.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light1.58.0.css" id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark1.58.0.css" disabled=""><link rel="stylesheet" type="text/css" href="../../ayu1.58.0.css" disabled=""><script id="default-settings"></script><script src="../../storage1.58.0.js"></script><script src="../../crates1.58.0.js"></script><script defer="" src="../../main1.58.0.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript1.58.0.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x161.58.0.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x321.58.0.png"><link rel="icon" type="image/svg+xml" href="../../favicon1.58.0.svg"><style type="text/css">#crate-search{background-image:url("../../down-arrow1.58.0.svg");}</style></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../std/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo1.58.0.png' alt='logo'></div></a><div class="sidebar-elems"><h2 class="location">Other items in<br><a href="../index.html">std</a>::<wbr><a href="index.html">intrinsics</a></h2><div id="sidebar-vars" data-name="arith_offset" data-ty="fn" data-relpath=""></div><script defer="" src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush1.58.0.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel1.58.0.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Function <a href="../index.html">std</a>::<wbr><a href="index.html">intrinsics</a>::<wbr><a class="fn" href="#">arith_offset</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard1.58.0.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/core/intrinsics.rs.html#1186" title="goto source code">[src]</a></span></h1><div class="docblock item-decl"><pre class="rust fn"><code>pub unsafe extern &quot;rust-intrinsic&quot; fn arith_offset&lt;T&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;dst: <a class="primitive" href="../primitive.pointer.html">*const T</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;offset: <a class="primitive" href="../primitive.isize.html">isize</a><br>) -&gt; <a class="primitive" href="../primitive.pointer.html">*const T</a></code></pre></div><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>core_intrinsics</code>)</div></div><details class="rustdoc-toggle top-doc" open=""><summary class="hideme"><span>Expand description</span></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[1]/div[1]" istranslationnode="true" main_mp="Y25yZD4/bWt0c2lvd2xndiorcWN9YXxKf3d2YnFh" sub_mp="[&quot;c3VkOz5sanFyaG5ybWZ3PypwYnhgfUt6dndjdGA=&quot;]"><p class="translate-text">计算与指针的偏移量，可能是换行。</p><p>Calculates the offset from a pointer, potentially wrapping.</p>
<p class="translate-text">这是作为避免转换为整数和从整数转换的内在函数，因为转换会抑制某些优化。</p><p>This is implemented as an intrinsic to avoid converting to and from an
integer, since the conversion inhibits certain optimizations.</p>
<h2 id="safety" class="section-header"><a href="#safety">Safety</a></h2>
<p class="translate-text">与 `offset` 内在函数不同，此内在函数不会将结果指针限制为指向或超过已分配对象末尾的一个字节，并且它使用二进制补码算法进行包装。 结果值不一定有效用于实际访问内存。</p><p>Unlike the <code>offset</code> intrinsic, this intrinsic does not restrict the
resulting pointer to point into or one byte past the end of an allocated
object, and it wraps with two’s complement arithmetic. The resulting
value is not necessarily valid to be used to actually access memory.</p>
<p class="translate-text">这个内在函数的稳定版本是“pointer::wrapping_offset”。</p><p>The stabilized version of this intrinsic is <a href="../primitive.pointer.html#method.wrapping_offset" title="pointer::wrapping_offset"><code>pointer::wrapping_offset</code></a>.</p>
</div></details></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="std" data-search-index-js="../../search-index1.58.0.js" data-search-js="../../search1.58.0.js"></div>
</body></html>