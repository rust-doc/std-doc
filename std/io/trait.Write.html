<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A trait for objects which are byte-oriented sinks."><meta name="keywords" content="rust, rustlang, rust-lang, Write"><title>Write in std::io - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize1.56.1.css"><link rel="stylesheet" type="text/css" href="../../rustdoc1.56.1.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light1.56.1.css" id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark1.56.1.css" disabled=""><link rel="stylesheet" type="text/css" href="../../ayu1.56.1.css" disabled=""><script id="default-settings"></script><script src="../../storage1.56.1.js"></script><script src="../../crates1.56.1.js"></script><noscript><link rel="stylesheet" href="../../noscript1.56.1.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x161.56.1.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x321.56.1.png"><link rel="icon" type="image/svg+xml" href="../../favicon1.56.1.svg"><style type="text/css">#crate-search{background-image:url("../../down-arrow1.56.1.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../std/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo1.56.1.png' alt='logo'></div></a><h2 class="location">Trait Write</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><div class="sidebar-links"><a href="#tymethod.flush">flush</a><a href="#tymethod.write">write</a></div><h3 class="sidebar-title"><a href="#provided-methods">Provided Methods</a></h3><div class="sidebar-links"><a href="#method.by_ref">by_ref</a><a href="#method.is_write_vectored">is_write_vectored</a><a href="#method.write_all">write_all</a><a href="#method.write_all_vectored">write_all_vectored</a><a href="#method.write_fmt">write_fmt</a><a href="#method.write_vectored">write_vectored</a></div><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div><h2 class="location">Other items in<br><a href="../index.html">std</a>::<wbr><a href="index.html">io</a></h2><div id="sidebar-vars" data-name="Write" data-ty="trait" data-relpath=""></div><script defer="" src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush1.56.1.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled="" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel1.56.1.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Trait <a href="../index.html">std</a>::<wbr><a href="index.html">io</a>::<wbr><a class="trait" href="#">Write</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard1.56.1.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/std/io/mod.rs.html#1368-1708" title="goto source code">[src]</a></span></h1><div class="docblock type-decl"><pre class="rust trait"><code>pub trait Write {
    fn <a href="#tymethod.write" class="fnname">write</a>(&amp;mut self, buf: <a class="primitive" href="../primitive.slice.html">&amp;[</a><a class="primitive" href="../primitive.u8.html">u8</a><a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.usize.html">usize</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.flush" class="fnname">flush</a>(&amp;mut self) -&gt; <a class="type" href="type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;;

    fn <a href="#method.write_vectored" class="fnname">write_vectored</a>(&amp;mut self, bufs: <a class="primitive" href="../primitive.slice.html">&amp;[</a><a class="struct" href="struct.IoSlice.html" title="struct std::io::IoSlice">IoSlice</a>&lt;'_&gt;<a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.usize.html">usize</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.is_write_vectored" class="fnname">is_write_vectored</a>(&amp;self) -&gt; <a class="primitive" href="../primitive.bool.html">bool</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.write_all" class="fnname">write_all</a>(&amp;mut self, buf: <a class="primitive" href="../primitive.slice.html">&amp;[</a><a class="primitive" href="../primitive.u8.html">u8</a><a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.write_all_vectored" class="fnname">write_all_vectored</a>(&amp;mut self, bufs: <a class="primitive" href="../primitive.slice.html">&amp;mut [</a><a class="struct" href="struct.IoSlice.html" title="struct std::io::IoSlice">IoSlice</a>&lt;'_&gt;<a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.write_fmt" class="fnname">write_fmt</a>(&amp;mut self, fmt: <a class="struct" href="../fmt/struct.Arguments.html" title="struct std::fmt::Arguments">Arguments</a>&lt;'_&gt;) -&gt; <a class="type" href="type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.by_ref" class="fnname">by_ref</a>(&amp;mut self) -&gt; <a class="primitive" href="../primitive.reference.html">&amp;mut </a>Self<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="../marker/trait.Sized.html" title="trait std::marker::Sized">Sized</a></span>,
    { ... }
}</code></pre></div><details class="rustdoc-toggle top-doc" open=""><summary class="hideme"><span>Expand description</span></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[1]/div[1]" istranslationnode="true" main_mp="c3VkOz5saz86VnJocGA="><p class="translate-text">面向字节的接收器对象的Trait。</p><p>A trait for objects which are byte-oriented sinks.</p>
<p class="translate-text">Write trait 的实现者有时被称为“writers”。</p><p>Implementors of the <code>Write</code> trait are sometimes called ‘writers’.</p>
<p class="translate-text">写入器由两个必需的方法定义，写入和刷新：</p><p>Writers are defined by two required methods, <a href="trait.Write.html#tymethod.write"><code>write</code></a> and <a href="trait.Write.html#tymethod.flush"><code>flush</code></a>:</p>
<ul>
<li class="translate-text">write 方法将尝试将一些数据写入对象，返回成功写入的字节数。</li><li>
<p>The <a href="trait.Write.html#tymethod.write"><code>write</code></a> method will attempt to write some data into the object,
returning how many bytes were successfully written.</p>
</li>
<li class="translate-text">flush 方法对于适配器和显式缓冲区本身很有用，以确保所有缓冲的数据都已被推送到“真正的接收器”。</li><li>
<p>The <a href="trait.Write.html#tymethod.flush"><code>flush</code></a> method is useful for adapters and explicit buffers
themselves for ensuring that all buffered data has been pushed out to the
‘true sink’.</p>
</li>
</ul>
<p class="translate-text">作家旨在彼此可组合。 std::io 中的许多实现者采用并提供实现 Write Trait的类型。</p><p>Writers are intended to be composable with one another. Many implementors
throughout <a href="index.html"><code>std::io</code></a> take and provide types which implement the <code>Write</code>
trait.</p>
<h1 id="examples" class="section-header"><a href="#examples">Examples</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::io::prelude</span>::<span class="kw-2">*</span>;
<span class="kw">use</span> <span class="ident">std::fs::File</span>;

<span class="kw">fn</span> <span class="ident">main</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">std::io::Result</span><span class="op">&lt;</span>()<span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="ident">data</span> <span class="op">=</span> <span class="string">b&quot;some bytes&quot;</span>;

    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">pos</span> <span class="op">=</span> <span class="number">0</span>;
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">buffer</span> <span class="op">=</span> <span class="ident">File::create</span>(<span class="string">&quot;foo.txt&quot;</span>)<span class="question-mark">?</span>;

    <span class="kw">while</span> <span class="ident">pos</span> <span class="op">&lt;</span> <span class="ident">data</span>.<span class="ident">len</span>() {
        <span class="kw">let</span> <span class="ident">bytes_written</span> <span class="op">=</span> <span class="ident">buffer</span>.<span class="ident">write</span>(<span class="kw-2">&amp;</span><span class="ident">data</span>[<span class="ident">pos</span>..])<span class="question-mark">?</span>;
        <span class="ident">pos</span> <span class="op">+</span><span class="op">=</span> <span class="ident">bytes_written</span>;
    }
    <span class="prelude-val">Ok</span>(())
}</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20std%3A%3Aio%3A%3Aprelude%3A%3A*%3B%0Ause%20std%3A%3Afs%3A%3AFile%3B%0A%0Afn%20main()%20-%3E%20std%3A%3Aio%3A%3AResult%3C()%3E%20%7B%0A%20%20%20%20let%20data%20%3D%20b%22some%20bytes%22%3B%0A%0A%20%20%20%20let%20mut%20pos%20%3D%200%3B%0A%20%20%20%20let%20mut%20buffer%20%3D%20File%3A%3Acreate(%22foo.txt%22)%3F%3B%0A%0A%20%20%20%20while%20pos%20%3C%20data.len()%20%7B%0A%20%20%20%20%20%20%20%20let%20bytes_written%20%3D%20buffer.write(%26data%5Bpos..%5D)%3F%3B%0A%20%20%20%20%20%20%20%20pos%20%2B%3D%20bytes_written%3B%0A%20%20%20%20%7D%0A%20%20%20%20Ok(())%0A%7D&amp;edition=2018">Run</a></div>
<p class="translate-text">该Trait还提供了方便的方法，如 write_all，它在循环中调用 write，直到其整个输入被写入。</p><p>The trait also provides convenience methods like <a href="trait.Write.html#method.write_all"><code>write_all</code></a>, which calls
<code>write</code> in a loop until its entire input has been written.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open=""><summary><div id="tymethod.write" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#1414" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.write" class="fnname">write</a>(&amp;mut self, buf: <a class="primitive" href="../primitive.slice.html">&amp;[</a><a class="primitive" href="../primitive.u8.html">u8</a><a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.usize.html">usize</a>&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/div[2]/details[1]/div[1]" istranslationnode="true" main_mp="c3VkOz5saz86VnJocGA+P2djeWVx"><p class="translate-text">将缓冲区写入此写入器，返回写入的字节数。</p><p>Write a buffer into this writer, returning how many bytes were written.</p>
<p class="translate-text">该函数将尝试写入 buf 的全部内容，但整个写入可能不会成功，或者写入也可能产生错误。 对 write 的调用最多表示一次尝试写入任何包装对象。</p><p>This function will attempt to write the entire contents of <code>buf</code>, but
the entire write might not succeed, or the write may also generate an
error. A call to <code>write</code> represents <em>at most one</em> attempt to write to
any wrapped object.</p>
<p class="translate-text">写入调用不能保证阻塞等待数据写入，否则会阻塞的写入可以通过 Err 变体指示。</p><p>Calls to <code>write</code> are not guaranteed to block waiting for data to be
written, and a write which would otherwise block can be indicated through
an <a href="../result/enum.Result.html#variant.Err" title="Err"><code>Err</code></a> variant.</p>
<p class="translate-text">如果返回值为 Ok(n)，则必须保证 n <= buf.len()。 返回值 0 通常意味着底层对象不再能够接受字节并且将来也可能无法接受，或者提供的缓冲区是空的。</p><p>If the return value is <a href="../result/enum.Result.html#variant.Ok"><code>Ok(n)</code></a> then it must be guaranteed that
<code>n &lt;= buf.len()</code>. A return value of <code>0</code> typically means that the
underlying object is no longer able to accept bytes and will likely not
be able to in the future as well, or that the buffer provided is empty.</p>
<h1 id="errors" class="section-header"><a href="#errors">Errors</a></h1>
<p class="translate-text">每个 write 调用都可能生成一个 I/O 错误，指示操作无法完成。 如果返回错误，则缓冲区中的任何字节都不会写入此写入器。</p><p>Each call to <code>write</code> may generate an I/O error indicating that the
operation could not be completed. If an error is returned then no bytes
in the buffer were written to this writer.</p>
<p class="translate-text">如果无法将整个缓冲区写入此写入器，则不会将其视为错误。</p><p>It is <strong>not</strong> considered an error if the entire buffer could not be
written to this writer.</p>
<p class="translate-text">ErrorKind::Interrupted 类型的错误是非致命的，如果没有其他事情可做，则应重试写入操作。</p><p>An error of the <a href="enum.ErrorKind.html#variant.Interrupted" title="ErrorKind::Interrupted"><code>ErrorKind::Interrupted</code></a> kind is non-fatal and the
write operation should be retried if there is nothing else to do.</p>
<h1 id="examples-1" class="section-header"><a href="#examples-1">Examples</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::io::prelude</span>::<span class="kw-2">*</span>;
<span class="kw">use</span> <span class="ident">std::fs::File</span>;

<span class="kw">fn</span> <span class="ident">main</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">std::io::Result</span><span class="op">&lt;</span>()<span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">buffer</span> <span class="op">=</span> <span class="ident">File::create</span>(<span class="string">&quot;foo.txt&quot;</span>)<span class="question-mark">?</span>;

    <span class="comment">// Writes some prefix of the byte string, not necessarily all of it.</span>
    <span class="ident">buffer</span>.<span class="ident">write</span>(<span class="string">b&quot;some bytes&quot;</span>)<span class="question-mark">?</span>;
    <span class="prelude-val">Ok</span>(())
}</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20std%3A%3Aio%3A%3Aprelude%3A%3A*%3B%0Ause%20std%3A%3Afs%3A%3AFile%3B%0A%0Afn%20main()%20-%3E%20std%3A%3Aio%3A%3AResult%3C()%3E%20%7B%0A%20%20%20%20let%20mut%20buffer%20%3D%20File%3A%3Acreate(%22foo.txt%22)%3F%3B%0A%0A%20%20%20%20%2F%2F%20Writes%20some%20prefix%20of%20the%20byte%20string%2C%20not%20necessarily%20all%20of%20it.%0A%20%20%20%20buffer.write(b%22some%20bytes%22)%3F%3B%0A%20%20%20%20Ok(())%0A%7D&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle" open=""><summary><div id="tymethod.flush" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#1491" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.flush" class="fnname">flush</a>(&amp;mut self) -&gt; <a class="type" href="type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/div[2]/details[2]/div[1]" istranslationnode="true" main_mp="c3VkOz5saz86VnJocGA+P3Z9ZWJ8"><p class="translate-text">刷新此输出流，确保所有中间缓冲的内容都到达目的地。</p><p>Flush this output stream, ensuring that all intermediately buffered
contents reach their destination.</p>
<h1 id="errors-1" class="section-header"><a href="#errors-1">Errors</a></h1>
<p class="translate-text">如果由于 I/O 错误或到达 EOF 而不是所有字节都可以写入，则认为是错误。</p><p>It is considered an error if not all bytes could be written due to
I/O errors or EOF being reached.</p>
<h1 id="examples-2" class="section-header"><a href="#examples-2">Examples</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::io::prelude</span>::<span class="kw-2">*</span>;
<span class="kw">use</span> <span class="ident">std::io::BufWriter</span>;
<span class="kw">use</span> <span class="ident">std::fs::File</span>;

<span class="kw">fn</span> <span class="ident">main</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">std::io::Result</span><span class="op">&lt;</span>()<span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">buffer</span> <span class="op">=</span> <span class="ident">BufWriter::new</span>(<span class="ident">File::create</span>(<span class="string">&quot;foo.txt&quot;</span>)<span class="question-mark">?</span>);

    <span class="ident">buffer</span>.<span class="ident">write_all</span>(<span class="string">b&quot;some bytes&quot;</span>)<span class="question-mark">?</span>;
    <span class="ident">buffer</span>.<span class="ident">flush</span>()<span class="question-mark">?</span>;
    <span class="prelude-val">Ok</span>(())
}</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20std%3A%3Aio%3A%3Aprelude%3A%3A*%3B%0Ause%20std%3A%3Aio%3A%3ABufWriter%3B%0Ause%20std%3A%3Afs%3A%3AFile%3B%0A%0Afn%20main()%20-%3E%20std%3A%3Aio%3A%3AResult%3C()%3E%20%7B%0A%20%20%20%20let%20mut%20buffer%20%3D%20BufWriter%3A%3Anew(File%3A%3Acreate(%22foo.txt%22)%3F)%3B%0A%0A%20%20%20%20buffer.write_all(b%22some%20bytes%22)%3F%3B%0A%20%20%20%20buffer.flush()%3F%3B%0A%20%20%20%20Ok(())%0A%7D&amp;edition=2018">Run</a></div>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open=""><summary><div id="method.write_vectored" class="method has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.36.0">1.36.0</span><a class="srclink" href="../../src/std/io/mod.rs.html#1448-1450" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.write_vectored" class="fnname">write_vectored</a>(&amp;mut self, bufs: <a class="primitive" href="../primitive.slice.html">&amp;[</a><a class="struct" href="struct.IoSlice.html" title="struct std::io::IoSlice">IoSlice</a>&lt;'_&gt;<a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.usize.html">usize</a>&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/div[3]/details[1]/div[1]" istranslationnode="true" main_mp="c3VkOz5saz86VnJocGA+P2djeWVxSmJwc2V/Y3Fx"><p class="translate-text">与 write 类似，只是它从一片缓冲区中写入。</p><p>Like <a href="trait.Write.html#tymethod.write"><code>write</code></a>, except that it writes from a slice of buffers.</p>
<p class="translate-text">数据按顺序从每个缓冲区复制，最终从缓冲区读取的数据可能仅被部分消耗。 此方法的行为必须与使用连接的缓冲区进行写入的调用一样。</p><p>Data is copied from each buffer in order, with the final buffer
read from possibly being only partially consumed. This method must
behave as a call to <a href="trait.Write.html#tymethod.write"><code>write</code></a> with the buffers concatenated would.</p>
<p class="translate-text">默认实现使用提供的第一个非空缓冲区调用 write，如果不存在，则调用空缓冲区。</p><p>The default implementation calls <a href="trait.Write.html#tymethod.write"><code>write</code></a> with either the first nonempty
buffer provided, or an empty one if none exists.</p>
<h1 id="examples-3" class="section-header"><a href="#examples-3">Examples</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::io::IoSlice</span>;
<span class="kw">use</span> <span class="ident">std::io::prelude</span>::<span class="kw-2">*</span>;
<span class="kw">use</span> <span class="ident">std::fs::File</span>;

<span class="kw">fn</span> <span class="ident">main</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">std::io::Result</span><span class="op">&lt;</span>()<span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">data1</span> <span class="op">=</span> [<span class="number">1</span>; <span class="number">8</span>];
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">data2</span> <span class="op">=</span> [<span class="number">15</span>; <span class="number">8</span>];
    <span class="kw">let</span> <span class="ident">io_slice1</span> <span class="op">=</span> <span class="ident">IoSlice::new</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">data1</span>);
    <span class="kw">let</span> <span class="ident">io_slice2</span> <span class="op">=</span> <span class="ident">IoSlice::new</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">data2</span>);

    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">buffer</span> <span class="op">=</span> <span class="ident">File::create</span>(<span class="string">&quot;foo.txt&quot;</span>)<span class="question-mark">?</span>;

    <span class="comment">// Writes some prefix of the byte string, not necessarily all of it.</span>
    <span class="ident">buffer</span>.<span class="ident">write_vectored</span>(<span class="kw-2">&amp;</span>[<span class="ident">io_slice1</span>, <span class="ident">io_slice2</span>])<span class="question-mark">?</span>;
    <span class="prelude-val">Ok</span>(())
}</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20std%3A%3Aio%3A%3AIoSlice%3B%0Ause%20std%3A%3Aio%3A%3Aprelude%3A%3A*%3B%0Ause%20std%3A%3Afs%3A%3AFile%3B%0A%0Afn%20main()%20-%3E%20std%3A%3Aio%3A%3AResult%3C()%3E%20%7B%0A%20%20%20%20let%20mut%20data1%20%3D%20%5B1%3B%208%5D%3B%0A%20%20%20%20let%20mut%20data2%20%3D%20%5B15%3B%208%5D%3B%0A%20%20%20%20let%20io_slice1%20%3D%20IoSlice%3A%3Anew(%26mut%20data1)%3B%0A%20%20%20%20let%20io_slice2%20%3D%20IoSlice%3A%3Anew(%26mut%20data2)%3B%0A%0A%20%20%20%20let%20mut%20buffer%20%3D%20File%3A%3Acreate(%22foo.txt%22)%3F%3B%0A%0A%20%20%20%20%2F%2F%20Writes%20some%20prefix%20of%20the%20byte%20string%2C%20not%20necessarily%20all%20of%20it.%0A%20%20%20%20buffer.write_vectored(%26%5Bio_slice1%2C%20io_slice2%5D)%3F%3B%0A%20%20%20%20Ok(())%0A%7D&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle" open=""><summary><div id="method.is_write_vectored" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#1463-1465" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.is_write_vectored" class="fnname">is_write_vectored</a>(&amp;self) -&gt; <a class="primitive" href="../primitive.bool.html">bool</a></h4></div></summary><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>can_vector</code>&nbsp;<a href="https://github.com/rust-lang/rust/issues/69941">#69941</a>)</div></div><div class="docblock" xpath="/html[1]/body[1]/section[1]/div[3]/details[2]/div[2]" istranslationnode="true" main_mp="c3VkOz5saz86VnJocGA+P3liT2ZmfGBwT2d1cmB6ZnBE"><p class="translate-text">确定此 Writer 是否具有有效的 write_vectored 实现。</p><p>Determines if this <code>Write</code>r has an efficient <a href="trait.Write.html#method.write_vectored"><code>write_vectored</code></a>
implementation.</p>
<p class="translate-text">如果 Writer 不覆盖默认的 write_vectored 实现，则使用它的代码可能希望完全避免该方法并将写入合并到单个缓冲区中以获得更高的性能。</p><p>If a <code>Write</code>r does not override the default <a href="trait.Write.html#method.write_vectored"><code>write_vectored</code></a>
implementation, code using it may want to avoid the method all together
and coalesce writes into a single buffer for higher performance.</p>
<p class="translate-text">默认实现返回 false。</p><p>The default implementation returns <code>false</code>.</p>
</div></details><details class="rustdoc-toggle" open=""><summary><div id="method.write_all" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#1525-1540" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.write_all" class="fnname">write_all</a>(&amp;mut self, buf: <a class="primitive" href="../primitive.slice.html">&amp;[</a><a class="primitive" href="../primitive.u8.html">u8</a><a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/div[3]/details[3]/div[1]" istranslationnode="true" main_mp="c3VkOz5saz86VnJocGA+P2djeWVxSnV5fA=="><p class="translate-text">尝试将整个缓冲区写入此写入器。</p><p>Attempts to write an entire buffer into this writer.</p>
<p class="translate-text">这个方法会不断的调用 write 直到没有数据要写入或者返回一个非 ErrorKind::Interrupted 类型的错误。 在整个缓冲区成功写入或发生此类错误之前，此方法不会返回。 将返回从该方法生成的第一个不属于 ErrorKind::Interrupted 类型的错误。</p><p>This method will continuously call <a href="trait.Write.html#tymethod.write"><code>write</code></a> until there is no more data
to be written or an error of non-<a href="enum.ErrorKind.html#variant.Interrupted" title="ErrorKind::Interrupted"><code>ErrorKind::Interrupted</code></a> kind is
returned. This method will not return until the entire buffer has been
successfully written or such an error occurs. The first error that is
not of <a href="enum.ErrorKind.html#variant.Interrupted" title="ErrorKind::Interrupted"><code>ErrorKind::Interrupted</code></a> kind generated from this method will be
returned.</p>
<p class="translate-text">如果缓冲区不包含数据，则永远不会调用 write。</p><p>If the buffer contains no data, this will never call <a href="trait.Write.html#tymethod.write"><code>write</code></a>.</p>
<h1 id="errors-2" class="section-header"><a href="#errors-2">Errors</a></h1>
<p class="translate-text">此函数将返回 write 返回的非 ErrorKind::Interrupted 类型的第一个错误。</p><p>This function will return the first error of
non-<a href="enum.ErrorKind.html#variant.Interrupted" title="ErrorKind::Interrupted"><code>ErrorKind::Interrupted</code></a> kind that <a href="trait.Write.html#tymethod.write"><code>write</code></a> returns.</p>
<h1 id="examples-4" class="section-header"><a href="#examples-4">Examples</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::io::prelude</span>::<span class="kw-2">*</span>;
<span class="kw">use</span> <span class="ident">std::fs::File</span>;

<span class="kw">fn</span> <span class="ident">main</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">std::io::Result</span><span class="op">&lt;</span>()<span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">buffer</span> <span class="op">=</span> <span class="ident">File::create</span>(<span class="string">&quot;foo.txt&quot;</span>)<span class="question-mark">?</span>;

    <span class="ident">buffer</span>.<span class="ident">write_all</span>(<span class="string">b&quot;some bytes&quot;</span>)<span class="question-mark">?</span>;
    <span class="prelude-val">Ok</span>(())
}</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20std%3A%3Aio%3A%3Aprelude%3A%3A*%3B%0Ause%20std%3A%3Afs%3A%3AFile%3B%0A%0Afn%20main()%20-%3E%20std%3A%3Aio%3A%3AResult%3C()%3E%20%7B%0A%20%20%20%20let%20mut%20buffer%20%3D%20File%3A%3Acreate(%22foo.txt%22)%3F%3B%0A%0A%20%20%20%20buffer.write_all(b%22some%20bytes%22)%3F%3B%0A%20%20%20%20Ok(())%0A%7D&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle" open=""><summary><div id="method.write_all_vectored" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#1590-1608" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.write_all_vectored" class="fnname">write_all_vectored</a>(&amp;mut self, bufs: <a class="primitive" href="../primitive.slice.html">&amp;mut [</a><a class="struct" href="struct.IoSlice.html" title="struct std::io::IoSlice">IoSlice</a>&lt;'_&gt;<a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div></summary><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>write_all_vectored</code>&nbsp;<a href="https://github.com/rust-lang/rust/issues/70436">#70436</a>)</div></div><div class="docblock" xpath="/html[1]/body[1]/section[1]/div[3]/details[4]/div[2]" istranslationnode="true" main_mp="c3VkOz5saz86VnJocGA+P2djeWVxSnV5fE5mdHdhe2dFRQ=="><p class="translate-text">尝试将多个缓冲区写入此写入器。</p><p>Attempts to write multiple buffers into this writer.</p>
<p class="translate-text">该方法会不断调用 write_vectored，直到没有数据写入或返回非 ErrorKind::Interrupted 类型的错误。 在所有缓冲区都已成功写入或发生此类错误之前，此方法不会返回。 将返回从该方法生成的第一个不属于 ErrorKind::Interrupted 类型的错误。</p><p>This method will continuously call <a href="trait.Write.html#method.write_vectored"><code>write_vectored</code></a> until there is no
more data to be written or an error of non-<a href="enum.ErrorKind.html#variant.Interrupted" title="ErrorKind::Interrupted"><code>ErrorKind::Interrupted</code></a>
kind is returned. This method will not return until all buffers have
been successfully written or such an error occurs. The first error that
is not of <a href="enum.ErrorKind.html#variant.Interrupted" title="ErrorKind::Interrupted"><code>ErrorKind::Interrupted</code></a> kind generated from this method
will be returned.</p>
<p class="translate-text">如果缓冲区不包含数据，则永远不会调用 write_vectored。</p><p>If the buffer contains no data, this will never call <a href="trait.Write.html#method.write_vectored"><code>write_vectored</code></a>.</p>
<h1 id="notes" class="section-header"><a href="#notes">Notes</a></h1>
<p class="translate-text">与 write_vectored 不同，这需要对 IoSlice 切片的可变引用，而不是不可变引用。 那是因为我们需要修改切片来跟踪已经写入的字节。</p><p>Unlike <a href="trait.Write.html#method.write_vectored"><code>write_vectored</code></a>, this takes a <em>mutable</em> reference to
a slice of <a href="struct.IoSlice.html" title="IoSlice"><code>IoSlice</code></a>s, not an immutable one. That’s because we need to
modify the slice to keep track of the bytes already written.</p>
<p class="translate-text">一旦这个函数返回，bufs 的内容是未指定的，因为这取决于有多少对 write_vectored 的调用是必要的。 最好将此功能理解为获取 bufs 的所有权，之后不要使用 bufs。 IoSlices 指向的底层缓冲区（但不是 IoSlices 本身）保持不变并且可以重用。</p><p>Once this function returns, the contents of <code>bufs</code> are unspecified, as
this depends on how many calls to <a href="trait.Write.html#method.write_vectored"><code>write_vectored</code></a> were necessary. It is
best to understand this function as taking ownership of <code>bufs</code> and to
not use <code>bufs</code> afterwards. The underlying buffers, to which the
<a href="struct.IoSlice.html" title="IoSlice"><code>IoSlice</code></a>s point (but not the <a href="struct.IoSlice.html" title="IoSlice"><code>IoSlice</code></a>s themselves), are unchanged and
can be reused.</p>
<h1 id="examples-5" class="section-header"><a href="#examples-5">Examples</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="attribute">#![<span class="ident">feature</span>(<span class="ident">write_all_vectored</span>)]</span>

<span class="kw">use</span> <span class="ident">std::io</span>::{<span class="ident">Write</span>, <span class="ident">IoSlice</span>};

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">writer</span> <span class="op">=</span> <span class="ident">Vec::new</span>();
<span class="kw">let</span> <span class="ident">bufs</span> <span class="op">=</span> <span class="kw-2">&amp;</span><span class="kw-2">mut</span> [
    <span class="ident">IoSlice::new</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>]),
    <span class="ident">IoSlice::new</span>(<span class="kw-2">&amp;</span>[<span class="number">2</span>, <span class="number">3</span>]),
    <span class="ident">IoSlice::new</span>(<span class="kw-2">&amp;</span>[<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]),
];

<span class="ident">writer</span>.<span class="ident">write_all_vectored</span>(<span class="ident">bufs</span>)<span class="question-mark">?</span>;
<span class="comment">// Note: the contents of `bufs` is now undefined, see the Notes section.</span>

<span class="macro">assert_eq!</span>(<span class="ident">writer</span>, <span class="kw-2">&amp;</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]);</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(write_all_vectored)%5D%0Afn%20main()%20-%3E%20std%3A%3Aio%3A%3AResult%3C()%3E%20%7B%0A%0Ause%20std%3A%3Aio%3A%3A%7BWrite%2C%20IoSlice%7D%3B%0A%0Alet%20mut%20writer%20%3D%20Vec%3A%3Anew()%3B%0Alet%20bufs%20%3D%20%26mut%20%5B%0A%20%20%20%20IoSlice%3A%3Anew(%26%5B1%5D)%2C%0A%20%20%20%20IoSlice%3A%3Anew(%26%5B2%2C%203%5D)%2C%0A%20%20%20%20IoSlice%3A%3Anew(%26%5B4%2C%205%2C%206%5D)%2C%0A%5D%3B%0A%0Awriter.write_all_vectored(bufs)%3F%3B%0A%2F%2F%20Note%3A%20the%20contents%20of%20%60bufs%60%20is%20now%20undefined%2C%20see%20the%20Notes%20section.%0A%0Aassert_eq!(writer%2C%20%26%5B1%2C%202%2C%203%2C%204%2C%205%2C%206%5D)%3B%0AOk(())%20%7D&amp;version=nightly&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle" open=""><summary><div id="method.write_fmt" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#1646-1678" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.write_fmt" class="fnname">write_fmt</a>(&amp;mut self, fmt: <a class="struct" href="../fmt/struct.Arguments.html" title="struct std::fmt::Arguments">Arguments</a>&lt;'_&gt;) -&gt; <a class="type" href="type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/div[3]/details[5]/div[1]" istranslationnode="true" main_mp="c3VkOz5saz86VnJocGA+P2djeWVxSnJ4ZA=="><p class="translate-text">将格式化字符串写入此编写器，返回遇到的任何错误。</p><p>Writes a formatted string into this writer, returning any error
encountered.</p>
<p class="translate-text">此方法主要用于与 format_args!() 宏接口，但很少会显式调用此方法。 应该优先使用 write!() 宏来调用此方法。</p><p>This method is primarily used to interface with the
<a href="../macro.format_args.html" title="format_args!()"><code>format_args!()</code></a> macro, but it is rare that this should
explicitly be called. The <a href="../macro.write.html" title="write!()"><code>write!()</code></a> macro should be favored to
invoke this method instead.</p>
<p class="translate-text">此函数在内部使用此 trait 的 write_all 方法，因此只要没有收到错误，就会连续写入数据。 这也意味着此签名中未指示部分写入。</p><p>This function internally uses the <a href="trait.Write.html#method.write_all"><code>write_all</code></a> method on
this trait and hence will continuously write data so long as no errors
are received. This also means that partial writes are not indicated in
this signature.</p>
<h1 id="errors-3" class="section-header"><a href="#errors-3">Errors</a></h1>
<p class="translate-text">此函数将返回格式化时报告的任何 I/O 错误。</p><p>This function will return any I/O error reported while formatting.</p>
<h1 id="examples-6" class="section-header"><a href="#examples-6">Examples</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::io::prelude</span>::<span class="kw-2">*</span>;
<span class="kw">use</span> <span class="ident">std::fs::File</span>;

<span class="kw">fn</span> <span class="ident">main</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">std::io::Result</span><span class="op">&lt;</span>()<span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">buffer</span> <span class="op">=</span> <span class="ident">File::create</span>(<span class="string">&quot;foo.txt&quot;</span>)<span class="question-mark">?</span>;

    <span class="comment">// this call</span>
    <span class="macro">write!</span>(<span class="ident">buffer</span>, <span class="string">&quot;{:.*}&quot;</span>, <span class="number">2</span>, <span class="number">1.234567</span>)<span class="question-mark">?</span>;
    <span class="comment">// turns into this:</span>
    <span class="ident">buffer</span>.<span class="ident">write_fmt</span>(<span class="macro">format_args!</span>(<span class="string">&quot;{:.*}&quot;</span>, <span class="number">2</span>, <span class="number">1.234567</span>))<span class="question-mark">?</span>;
    <span class="prelude-val">Ok</span>(())
}</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20std%3A%3Aio%3A%3Aprelude%3A%3A*%3B%0Ause%20std%3A%3Afs%3A%3AFile%3B%0A%0Afn%20main()%20-%3E%20std%3A%3Aio%3A%3AResult%3C()%3E%20%7B%0A%20%20%20%20let%20mut%20buffer%20%3D%20File%3A%3Acreate(%22foo.txt%22)%3F%3B%0A%0A%20%20%20%20%2F%2F%20this%20call%0A%20%20%20%20write!(buffer%2C%20%22%7B%3A.*%7D%22%2C%202%2C%201.234567)%3F%3B%0A%20%20%20%20%2F%2F%20turns%20into%20this%3A%0A%20%20%20%20buffer.write_fmt(format_args!(%22%7B%3A.*%7D%22%2C%202%2C%201.234567))%3F%3B%0A%20%20%20%20Ok(())%0A%7D&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle" open=""><summary><div id="method.by_ref" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#1702-1707" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.by_ref" class="fnname">by_ref</a>(&amp;mut self) -&gt; <a class="primitive" href="../primitive.reference.html">&amp;mut </a>Self <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="../marker/trait.Sized.html" title="trait std::marker::Sized">Sized</a>,&nbsp;</span></h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/div[3]/details[6]/div[1]" istranslationnode="true" main_mp="c3VkOz5saz86VnJocGA+P3JoT2Nxcw=="><p class="translate-text">为此 Write 实例创建一个“按引用”适配器。</p><p>Creates a “by reference” adapter for this instance of <code>Write</code>.</p>
<p class="translate-text">返回的适配器也实现了 Write 并且会简单地借用这个当前的 writer。</p><p>The returned adapter also implements <code>Write</code> and will simply borrow this
current writer.</p>
<h1 id="examples-7" class="section-header"><a href="#examples-7">Examples</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::io::Write</span>;
<span class="kw">use</span> <span class="ident">std::fs::File</span>;

<span class="kw">fn</span> <span class="ident">main</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">std::io::Result</span><span class="op">&lt;</span>()<span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">buffer</span> <span class="op">=</span> <span class="ident">File::create</span>(<span class="string">&quot;foo.txt&quot;</span>)<span class="question-mark">?</span>;

    <span class="kw">let</span> <span class="ident">reference</span> <span class="op">=</span> <span class="ident">buffer</span>.<span class="ident">by_ref</span>();

    <span class="comment">// we can use reference just like our original buffer</span>
    <span class="ident">reference</span>.<span class="ident">write_all</span>(<span class="string">b&quot;some bytes&quot;</span>)<span class="question-mark">?</span>;
    <span class="prelude-val">Ok</span>(())
}</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20std%3A%3Aio%3A%3AWrite%3B%0Ause%20std%3A%3Afs%3A%3AFile%3B%0A%0Afn%20main()%20-%3E%20std%3A%3Aio%3A%3AResult%3C()%3E%20%7B%0A%20%20%20%20let%20mut%20buffer%20%3D%20File%3A%3Acreate(%22foo.txt%22)%3F%3B%0A%0A%20%20%20%20let%20reference%20%3D%20buffer.by_ref()%3B%0A%0A%20%20%20%20%2F%2F%20we%20can%20use%20reference%20just%20like%20our%20original%20buffer%0A%20%20%20%20reference.write_all(b%22some%20bytes%22)%3F%3B%0A%20%20%20%20Ok(())%0A%7D&amp;edition=2018">Run</a></div>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"><div id="impl-Write" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/fs.rs.html#687-704" title="goto source code">[src]</a></div><a href="#impl-Write" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for &amp;<a class="struct" href="../fs/struct.File.html" title="struct std::fs::File">File</a></h3></div><div id="impl-Write-1" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#664-681" title="goto source code">[src]</a></div><a href="#impl-Write-1" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for &amp;<a class="struct" href="../net/struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3></div><div id="impl-Write-2" class="impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.48.0">1.48.0</span><a class="srclink" href="../../src/std/process.rs.html#287-303" title="goto source code">[src]</a></div><a href="#impl-Write-2" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for &amp;<a class="struct" href="../process/struct.ChildStdin.html" title="struct std::process::ChildStdin">ChildStdin</a></h3></div><div id="impl-Write-3" class="impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.48.0">1.48.0</span><a class="srclink" href="../../src/std/io/util.rs.html#226-247" title="goto source code">[src]</a></div><a href="#impl-Write-3" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for &amp;<a class="struct" href="struct.Sink.html" title="struct std::io::Sink">Sink</a></h3></div><div id="impl-Write-4" class="impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.48.0">1.48.0</span><a class="srclink" href="../../src/std/io/stdio.rs.html#1091-1114" title="goto source code">[src]</a></div><a href="#impl-Write-4" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for &amp;<a class="struct" href="struct.Stderr.html" title="struct std::io::Stderr">Stderr</a></h3></div><div id="impl-Write-5" class="impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.48.0">1.48.0</span><a class="srclink" href="../../src/std/io/stdio.rs.html#831-854" title="goto source code">[src]</a></div><a href="#impl-Write-5" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for &amp;<a class="struct" href="struct.Stdout.html" title="struct std::io::Stdout">Stdout</a></h3></div><div id="impl-Write-6" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/impls.rs.html#325-366" title="goto source code">[src]</a></div><a href="#impl-Write-6" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="../primitive.slice.html">&amp;mut [</a><a class="primitive" href="../primitive.u8.html">u8</a><a class="primitive" href="../primitive.slice.html">]</a></h3></div><div class="docblock"><p>Write is implemented for <code>&amp;mut [u8]</code> by copying into the slice, overwriting
its data.</p>
<p>Note that writing updates the slice to point to the yet unwritten part.
The slice will be empty when it has been completely overwritten.</p>
<p>If the number of bytes to be written exceeds the size of the slice, write operations will
return short writes: ultimately, <code>Ok(0)</code>; in this situation, <code>write_all</code> returns an error of
kind <code>ErrorKind::WriteZero</code>.</p>
</div><div id="impl-Write-7" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/fs.rs.html#641-658" title="goto source code">[src]</a></div><a href="#impl-Write-7" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="../fs/struct.File.html" title="struct std::fs::File">File</a></h3></div><div id="impl-Write-8" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#624-641" title="goto source code">[src]</a></div><a href="#impl-Write-8" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="../net/struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3></div><div id="impl-Write-9" class="impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.10.0">1.10.0</span><a class="srclink" href="../../src/std/os/unix/net/stream.rs.html#619-636" title="goto source code">[src]</a></div><a href="#impl-Write-9" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="../os/unix/net/struct.UnixStream.html" title="struct std::os::unix::net::UnixStream">UnixStream</a></h3><div class="item-info"><div class="stab portability">This is supported on <strong>Unix</strong> only.</div></div></div><div id="impl-Write-10" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/process.rs.html#268-284" title="goto source code">[src]</a></div><a href="#impl-Write-10" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="../process/struct.ChildStdin.html" title="struct std::process::ChildStdin">ChildStdin</a></h3></div><div id="impl-Write-11" class="impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.25.0">1.25.0</span><a class="srclink" href="../../src/std/io/cursor.rs.html#465-483" title="goto source code">[src]</a></div><a href="#impl-Write-11" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="struct.Cursor.html" title="struct std::io::Cursor">Cursor</a>&lt;&amp;mut <a class="struct" href="../vec/struct.Vec.html" title="struct std::vec::Vec">Vec</a>&lt;<a class="primitive" href="../primitive.u8.html">u8</a>&gt;&gt;</h3></div><div id="impl-Write-12" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/cursor.rs.html#442-462" title="goto source code">[src]</a></div><a href="#impl-Write-12" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="struct.Cursor.html" title="struct std::io::Cursor">Cursor</a>&lt;<a class="primitive" href="../primitive.slice.html">&amp;mut [</a><a class="primitive" href="../primitive.u8.html">u8</a><a class="primitive" href="../primitive.slice.html">]</a>&gt;</h3></div><div id="impl-Write-13" class="impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.5.0">1.5.0</span><a class="srclink" href="../../src/std/io/cursor.rs.html#507-527" title="goto source code">[src]</a></div><a href="#impl-Write-13" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="struct.Cursor.html" title="struct std::io::Cursor">Cursor</a>&lt;<a class="struct" href="../boxed/struct.Box.html" title="struct std::boxed::Box">Box</a>&lt;<a class="primitive" href="../primitive.slice.html">[</a><a class="primitive" href="../primitive.u8.html">u8</a><a class="primitive" href="../primitive.slice.html">]</a>&gt;&gt;</h3></div><div id="impl-Write-14" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/cursor.rs.html#486-504" title="goto source code">[src]</a></div><a href="#impl-Write-14" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="struct.Cursor.html" title="struct std::io::Cursor">Cursor</a>&lt;<a class="struct" href="../vec/struct.Vec.html" title="struct std::vec::Vec">Vec</a>&lt;<a class="primitive" href="../primitive.u8.html">u8</a>&gt;&gt;</h3></div><div id="impl-Write-15" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/util.rs.html#202-223" title="goto source code">[src]</a></div><a href="#impl-Write-15" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="struct.Sink.html" title="struct std::io::Sink">Sink</a></h3></div><div id="impl-Write-16" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/stdio.rs.html#1065-1088" title="goto source code">[src]</a></div><a href="#impl-Write-16" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="struct.Stderr.html" title="struct std::io::Stderr">Stderr</a></h3></div><div id="impl-Write-17" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/stdio.rs.html#1117-1137" title="goto source code">[src]</a></div><a href="#impl-Write-17" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="struct.StderrLock.html" title="struct std::io::StderrLock">StderrLock</a>&lt;'_&gt;</h3></div><div id="impl-Write-18" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/stdio.rs.html#805-828" title="goto source code">[src]</a></div><a href="#impl-Write-18" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="struct.Stdout.html" title="struct std::io::Stdout">Stdout</a></h3></div><div id="impl-Write-19" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/stdio.rs.html#857-877" title="goto source code">[src]</a></div><a href="#impl-Write-19" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="struct.StdoutLock.html" title="struct std::io::StdoutLock">StdoutLock</a>&lt;'_&gt;</h3></div><div id="impl-Write-20" class="impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.10.0">1.10.0</span><a class="srclink" href="../../src/std/os/unix/net/stream.rs.html#639-656" title="goto source code">[src]</a></div><a href="#impl-Write-20" class="anchor"></a><h3 class="code-header in-band">impl&lt;'a&gt; <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for &amp;'a <a class="struct" href="../os/unix/net/struct.UnixStream.html" title="struct std::os::unix::net::UnixStream">UnixStream</a></h3><div class="item-info"><div class="stab portability">This is supported on <strong>Unix</strong> only.</div></div></div><div id="impl-Write-21" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/impls.rs.html#371-403" title="goto source code">[src]</a></div><a href="#impl-Write-21" class="anchor"></a><h3 class="code-header in-band">impl&lt;A:&nbsp;<a class="trait" href="../alloc/trait.Allocator.html" title="trait std::alloc::Allocator">Allocator</a>&gt; <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="../vec/struct.Vec.html" title="struct std::vec::Vec">Vec</a>&lt;<a class="primitive" href="../primitive.u8.html">u8</a>, A&gt;</h3></div><div class="docblock"><p>Write is implemented for <code>Vec&lt;u8&gt;</code> by appending to the vector.
The vector will grow as needed.</p>
</div><div id="impl-Write-22" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/impls.rs.html#53-83" title="goto source code">[src]</a></div><a href="#impl-Write-22" class="anchor"></a><h3 class="code-header in-band">impl&lt;W:&nbsp;<a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="../marker/trait.Sized.html" title="trait std::marker::Sized">Sized</a>&gt; <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for <a class="primitive" href="../primitive.reference.html">&amp;mut </a>W</h3></div><div id="impl-Write-23" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/impls.rs.html#157-187" title="goto source code">[src]</a></div><a href="#impl-Write-23" class="anchor"></a><h3 class="code-header in-band">impl&lt;W:&nbsp;<a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="../marker/trait.Sized.html" title="trait std::marker::Sized">Sized</a>&gt; <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="../boxed/struct.Box.html" title="struct std::boxed::Box">Box</a>&lt;W&gt;</h3></div><div id="impl-Write-24" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/buffered/bufwriter.rs.html#513-639" title="goto source code">[src]</a></div><a href="#impl-Write-24" class="anchor"></a><h3 class="code-header in-band">impl&lt;W:&nbsp;<a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a>&gt; <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="struct.BufWriter.html" title="struct std::io::BufWriter">BufWriter</a>&lt;W&gt;</h3></div><div id="impl-Write-25" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/buffered/linewriter.rs.html#188-216" title="goto source code">[src]</a></div><a href="#impl-Write-25" class="anchor"></a><h3 class="code-header in-band">impl&lt;W:&nbsp;<a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a>&gt; <a class="trait" href="trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="struct.LineWriter.html" title="struct std::io::LineWriter">LineWriter</a>&lt;W&gt;</h3></div></div><script type="text/javascript" src="../../implementors/std/io/trait.Write.js" async=""></script></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="std" data-search-index-js="../../search-index1.56.1.js" data-search-js="../../search1.56.1.js"></div>
    <script src="../../main1.56.1.js"></script>
</body></html>