<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A TCP stream between a local and a remote socket."><meta name="keywords" content="rust, rustlang, rust-lang, TcpStream"><title>TcpStream in std::net - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize1.58.0.css"><link rel="stylesheet" type="text/css" href="../../rustdoc1.58.0.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light1.58.0.css" id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark1.58.0.css" disabled=""><link rel="stylesheet" type="text/css" href="../../ayu1.58.0.css" disabled=""><script id="default-settings"></script><script src="../../storage1.58.0.js"></script><script src="../../crates1.58.0.js"></script><script defer="" src="../../main1.58.0.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript1.58.0.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x161.58.0.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x321.58.0.png"><link rel="icon" type="image/svg+xml" href="../../favicon1.58.0.svg"><style type="text/css">#crate-search{background-image:url("../../down-arrow1.58.0.svg");}</style></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../std/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo1.58.0.png' alt='logo'></div></a><h2 class="location">Struct TcpStream</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#implementations">Methods</a></h3><div class="sidebar-links"><a href="#method.connect">connect</a><a href="#method.connect_timeout">connect_timeout</a><a href="#method.linger">linger</a><a href="#method.local_addr">local_addr</a><a href="#method.nodelay">nodelay</a><a href="#method.peek">peek</a><a href="#method.peer_addr">peer_addr</a><a href="#method.read_timeout">read_timeout</a><a href="#method.set_linger">set_linger</a><a href="#method.set_nodelay">set_nodelay</a><a href="#method.set_nonblocking">set_nonblocking</a><a href="#method.set_read_timeout">set_read_timeout</a><a href="#method.set_ttl">set_ttl</a><a href="#method.set_write_timeout">set_write_timeout</a><a href="#method.shutdown">shutdown</a><a href="#method.take_error">take_error</a><a href="#method.try_clone">try_clone</a><a href="#method.ttl">ttl</a><a href="#method.write_timeout">write_timeout</a></div><h3 class="sidebar-title"><a href="#trait-implementations">Trait Implementations</a></h3><div class="sidebar-links"><a href="#impl-AsFd">AsFd</a><a href="#impl-AsRawFd">AsRawFd</a><a href="#impl-AsRawSocket">AsRawSocket</a><a href="#impl-AsSocket">AsSocket</a><a href="#impl-Debug">Debug</a><a href="#impl-From%3COwnedFd%3E">From&lt;OwnedFd&gt;</a><a href="#impl-From%3COwnedSocket%3E">From&lt;OwnedSocket&gt;</a><a href="#impl-From%3CTcpStream%3E">From&lt;TcpStream&gt;</a><a href="#impl-FromRawFd">FromRawFd</a><a href="#impl-FromRawSocket">FromRawSocket</a><a href="#impl-IntoRawFd">IntoRawFd</a><a href="#impl-IntoRawSocket">IntoRawSocket</a><a href="#impl-Read">Read</a><a href="#impl-Write">Write</a></div><h3 class="sidebar-title"><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><div class="sidebar-links"><a href="#impl-RefUnwindSafe">RefUnwindSafe</a><a href="#impl-Send">Send</a><a href="#impl-Sync">Sync</a><a href="#impl-Unpin">Unpin</a><a href="#impl-UnwindSafe">UnwindSafe</a></div><h3 class="sidebar-title"><a href="#blanket-implementations">Blanket Implementations</a></h3><div class="sidebar-links"><a href="#impl-Any">Any</a><a href="#impl-Borrow%3CT%3E">Borrow&lt;T&gt;</a><a href="#impl-BorrowMut%3CT%3E">BorrowMut&lt;T&gt;</a><a href="#impl-From%3CT%3E">From&lt;T&gt;</a><a href="#impl-Into%3CU%3E">Into&lt;U&gt;</a><a href="#impl-TryFrom%3CU%3E">TryFrom&lt;U&gt;</a><a href="#impl-TryInto%3CU%3E">TryInto&lt;U&gt;</a></div></div><h2 class="location">Other items in<br><a href="../index.html">std</a>::<wbr><a href="index.html">net</a></h2><div id="sidebar-vars" data-name="TcpStream" data-ty="struct" data-relpath=""></div><script defer="" src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush1.58.0.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel1.58.0.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Struct <a href="../index.html">std</a>::<wbr><a href="index.html">net</a>::<wbr><a class="struct" href="#">TcpStream</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard1.58.0.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/std/net/tcp.rs.html#49" title="goto source code">[src]</a></span></h1><div class="docblock item-decl"><pre class="rust struct"><code>pub struct TcpStream(_);</code></pre></div><details class="rustdoc-toggle top-doc" open=""><summary class="hideme"><span>Expand description</span></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[1]/div[1]" istranslationnode="true" main_mp="c3VkOz5rYXE6O3RidD8+UXNhQ2VmcHV4" sub_mp="[&quot;c3VkOz5rYXE6O1RidFZwd3VwfQ==&quot;]"><p class="translate-text">本地和远程套接字之间的 TCP 流。</p><p>A TCP stream between a local and a remote socket.</p>
<p class="translate-text">通过“连接”到远程主机或“接受”“TcpListener”上的连接来创建“TcpStream”后，可以通过“读取”和“写入”来传输数据。</p><p>After creating a <code>TcpStream</code> by either <a href="struct.TcpStream.html#method.connect"><code>connect</code></a>ing to a remote host or
<a href="struct.TcpListener.html#method.accept"><code>accept</code></a>ing a connection on a <a href="struct.TcpListener.html" title="TcpListener"><code>TcpListener</code></a>, data can be transmitted
by <a href="../io/trait.Read.html">reading</a> and <a href="../io/trait.Write.html">writing</a> to it.</p>
<p class="translate-text">删除值时将关闭连接。 连接的读取和写入部分也可以使用“关闭”方法单独关闭。</p><p>The connection will be closed when the value is dropped. The reading and writing
portions of the connection can also be shut down individually with the <a href="struct.TcpStream.html#method.shutdown"><code>shutdown</code></a>
method.</p>
<p class="translate-text">传输控制协议在“IETF RFC 793”中指定。</p><p>The Transmission Control Protocol is specified in <a href="https://tools.ietf.org/html/rfc793">IETF RFC 793</a>.</p>
<h2 id="examples" class="section-header"><a href="#examples">Examples</a></h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::io::prelude</span>::<span class="kw-2">*</span>;
<span class="kw">use</span> <span class="ident">std::net::TcpStream</span>;

<span class="kw">fn</span> <span class="ident">main</span>() -&gt; <span class="ident">std::io::Result</span><span class="op">&lt;</span>()<span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">stream</span> <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:34254&quot;</span>)<span class="question-mark">?</span>;

    <span class="ident">stream</span>.<span class="ident">write</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>])<span class="question-mark">?</span>;
    <span class="ident">stream</span>.<span class="ident">read</span>(<span class="kw-2">&amp;mut</span> [<span class="number">0</span>; <span class="number">128</span>])<span class="question-mark">?</span>;
    <span class="prelude-val">Ok</span>(())
} <span class="comment">// the stream is closed here</span></code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Ause%20std%3A%3Aio%3A%3Aprelude%3A%3A*%3B%0Ause%20std%3A%3Anet%3A%3ATcpStream%3B%0A%0Afn%20main()%20-%3E%20std%3A%3Aio%3A%3AResult%3C()%3E%20%7B%0A%20%20%20%20let%20mut%20stream%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A34254%22)%3F%3B%0A%0A%20%20%20%20stream.write(%26%5B1%5D)%3F%3B%0A%20%20%20%20stream.read(%26mut%20%5B0%3B%20128%5D)%3F%3B%0A%20%20%20%20Ok(())%0A%7D%20%2F%2F%20the%20stream%20is%20closed%20here&amp;edition=2018">Run</a></div>
</div></details><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#112-607" title="goto source code">[src]</a></div><a href="#impl" class="anchor"></a><h3 class="code-header in-band">impl <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.connect" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#155-157" title="goto source code">[src]</a></div><a href="#method.connect" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.connect" class="fnname">connect</a>&lt;A:&nbsp;<a class="trait" href="trait.ToSocketAddrs.html" title="trait std::net::ToSocketAddrs">ToSocketAddrs</a>&gt;(addr: A) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a>&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[2]/div[1]/details[1]/div[1]" istranslationnode="true" main_mp="c3VkOz5rYXE6O3RidD8+UXNhQ2VmcHV4Kitzfnp7cXZU" sub_mp="[&quot;c3VkOz5rYXE6O1RidFZwd3VwfSsudnt7fnRzZQ==&quot;]"><p class="translate-text">打开到远程主机的 TCP 连接。</p><p>Opens a TCP connection to a remote host.</p>
<p class="translate-text">`addr` 是远程主机的地址。 可以为地址提供任何实现“ToSocketAddrs”Trait的东西； 有关具体示例，请参阅此 trait 文档。</p><p><code>addr</code> is an address of the remote host. Anything which implements
<a href="trait.ToSocketAddrs.html" title="ToSocketAddrs"><code>ToSocketAddrs</code></a> trait can be supplied for the address; see this trait
documentation for concrete examples.</p>
<p class="translate-text">如果 `addr` 产生多个地址，则将尝试对每个地址进行 `connect` 直到连接成功。 如果没有一个地址导致连接成功，则返回上次连接尝试返回的错误（最后一个地址）。</p><p>If <code>addr</code> yields multiple addresses, <code>connect</code> will be attempted with
each of the addresses until a connection is successful. If none of
the addresses result in a successful connection, the error returned from
the last connection attempt (the last address) is returned.</p>
<h5 id="examples-1" class="section-header"><a href="#examples-1">Examples</a></h5>
<p class="translate-text">打开到 `127.0.0.1:8080` 的 TCP 连接：</p><p>Open a TCP connection to <code>127.0.0.1:8080</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::net::TcpStream</span>;

<span class="kw">if</span> <span class="kw">let</span> <span class="prelude-val">Ok</span>(<span class="ident">stream</span>) <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:8080&quot;</span>) {
    <span class="macro">println!</span>(<span class="string">&quot;Connected to the server!&quot;</span>);
} <span class="kw">else</span> {
    <span class="macro">println!</span>(<span class="string">&quot;Couldn&#39;t connect to server...&quot;</span>);
}</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Anet%3A%3ATcpStream%3B%0A%0Aif%20let%20Ok(stream)%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A8080%22)%20%7B%0A%20%20%20%20println!(%22Connected%20to%20the%20server!%22)%3B%0A%7D%20else%20%7B%0A%20%20%20%20println!(%22Couldn't%20connect%20to%20server...%22)%3B%0A%7D%0A%7D&amp;edition=2018">Run</a></div>
<p class="translate-text">打开到 `127.0.0.1:8080` 的 TCP 连接。 如果连接失败，请打开到 `127.0.0.1:8081` 的 TCP 连接：</p><p>Open a TCP connection to <code>127.0.0.1:8080</code>. If the connection fails, open
a TCP connection to <code>127.0.0.1:8081</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::net</span>::{<span class="ident">SocketAddr</span>, <span class="ident">TcpStream</span>};

<span class="kw">let</span> <span class="ident">addrs</span> <span class="op">=</span> [
    <span class="ident">SocketAddr::from</span>(([<span class="number">127</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>], <span class="number">8080</span>)),
    <span class="ident">SocketAddr::from</span>(([<span class="number">127</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>], <span class="number">8081</span>)),
];
<span class="kw">if</span> <span class="kw">let</span> <span class="prelude-val">Ok</span>(<span class="ident">stream</span>) <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="kw-2">&amp;</span><span class="ident">addrs</span>[..]) {
    <span class="macro">println!</span>(<span class="string">&quot;Connected to the server!&quot;</span>);
} <span class="kw">else</span> {
    <span class="macro">println!</span>(<span class="string">&quot;Couldn&#39;t connect to server...&quot;</span>);
}</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Anet%3A%3A%7BSocketAddr%2C%20TcpStream%7D%3B%0A%0Alet%20addrs%20%3D%20%5B%0A%20%20%20%20SocketAddr%3A%3Afrom((%5B127%2C%200%2C%200%2C%201%5D%2C%208080))%2C%0A%20%20%20%20SocketAddr%3A%3Afrom((%5B127%2C%200%2C%200%2C%201%5D%2C%208081))%2C%0A%5D%3B%0Aif%20let%20Ok(stream)%20%3D%20TcpStream%3A%3Aconnect(%26addrs%5B..%5D)%20%7B%0A%20%20%20%20println!(%22Connected%20to%20the%20server!%22)%3B%0A%7D%20else%20%7B%0A%20%20%20%20println!(%22Couldn't%20connect%20to%20server...%22)%3B%0A%7D%0A%7D&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.connect_timeout" class="method has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.21.0">1.21.0</span><a class="srclink" href="../../src/std/net/tcp.rs.html#171-173" title="goto source code">[src]</a></div><a href="#method.connect_timeout" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.connect_timeout" class="fnname">connect_timeout</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;addr: &amp;<a class="enum" href="enum.SocketAddr.html" title="enum std::net::SocketAddr">SocketAddr</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;timeout: <a class="struct" href="../time/struct.Duration.html" title="struct std::time::Duration">Duration</a><br>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a>&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[2]/div[1]/details[2]/div[1]" istranslationnode="true" main_mp="c3VkOz5rYXE6O3RidD8+UXNhQ2VmcHV4Kitzfnp7cXZUflRISUBLUFQ=" sub_mp="[&quot;c3VkOz5rYXE6O1RidFZwd3VwfSsudnt7fnRzZUthfXhFTlVV&quot;]"><p class="translate-text">使用超时打开与远程主机的 TCP 连接。</p><p>Opens a TCP connection to a remote host with a timeout.</p>
<p class="translate-text">与 `connect` 不同，`connect_timeout` 需要一个“SocketAddr”，因为超时必须应用于各个地址。</p><p>Unlike <code>connect</code>, <code>connect_timeout</code> takes a single <a href="enum.SocketAddr.html" title="SocketAddr"><code>SocketAddr</code></a> since
timeout must be applied to individual addresses.</p>
<p class="translate-text">将零“持续时间”传递给此函数是错误的。</p><p>It is an error to pass a zero <code>Duration</code> to this function.</p>
<p class="translate-text">与 `TcpStream` 上的其他方法不同，这不对应于单个系统调用。 它改为以非阻塞模式调用“连接”，然后使用特定于操作系统的机制来等待连接请求的完成。</p><p>Unlike other methods on <code>TcpStream</code>, this does not correspond to a
single system call. It instead calls <code>connect</code> in nonblocking mode and
then uses an OS-specific mechanism to await the completion of the
connection request.</p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.peer_addr" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#188-190" title="goto source code">[src]</a></div><a href="#method.peer_addr" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.peer_addr" class="fnname">peer_addr</a>(&amp;self) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="enum" href="enum.SocketAddr.html" title="enum std::net::SocketAddr">SocketAddr</a>&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[2]/div[1]/details[3]/div[1]" istranslationnode="true" main_mp="c3VkOz5rYXE6O3RidD8+UXNhQ2VmcHV4KitgdHFnS3RERVI=" sub_mp="[&quot;c3VkOz5rYXE6O1RidFZwd3VwfSsuZXFwYk5xdXBn&quot;]"><p class="translate-text">返回此 TCP 连接的远程对等方的套接字地址。</p><p>Returns the socket address of the remote peer of this TCP connection.</p>
<h5 id="examples-2" class="section-header"><a href="#examples-2">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::net</span>::{<span class="ident">Ipv4Addr</span>, <span class="ident">SocketAddr</span>, <span class="ident">SocketAddrV4</span>, <span class="ident">TcpStream</span>};

<span class="kw">let</span> <span class="ident">stream</span> <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:8080&quot;</span>)
                       .<span class="ident">expect</span>(<span class="string">&quot;Couldn&#39;t connect to the server...&quot;</span>);
<span class="macro">assert_eq!</span>(<span class="ident">stream</span>.<span class="ident">peer_addr</span>().<span class="ident">unwrap</span>(),
           <span class="ident">SocketAddr::V4</span>(<span class="ident">SocketAddrV4::new</span>(<span class="ident">Ipv4Addr::new</span>(<span class="number">127</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>), <span class="number">8080</span>)));</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Anet%3A%3A%7BIpv4Addr%2C%20SocketAddr%2C%20SocketAddrV4%2C%20TcpStream%7D%3B%0A%0Alet%20stream%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A8080%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.expect(%22Couldn't%20connect%20to%20the%20server...%22)%3B%0Aassert_eq!(stream.peer_addr().unwrap()%2C%0A%20%20%20%20%20%20%20%20%20%20%20SocketAddr%3A%3AV4(SocketAddrV4%3A%3Anew(Ipv4Addr%3A%3Anew(127%2C%200%2C%200%2C%201)%2C%208080)))%3B%0A%7D&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.local_addr" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#205-207" title="goto source code">[src]</a></div><a href="#method.local_addr" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.local_addr" class="fnname">local_addr</a>(&amp;self) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="enum" href="enum.SocketAddr.html" title="enum std::net::SocketAddr">SocketAddr</a>&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[2]/div[1]/details[4]/div[1]" istranslationnode="true" main_mp="c3VkOz5rYXE6O3RidD8+UXNhQ2VmcHV4Kit8fnd0eEpBRURT" sub_mp="[&quot;c3VkOz5rYXE6O1RidFZwd3VwfSsueXt2cX1PcHBxZg==&quot;]"><p class="translate-text">返回此 TCP 连接的本地部分的套接字地址。</p><p>Returns the socket address of the local half of this TCP connection.</p>
<h5 id="examples-3" class="section-header"><a href="#examples-3">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::net</span>::{<span class="ident">IpAddr</span>, <span class="ident">Ipv4Addr</span>, <span class="ident">TcpStream</span>};

<span class="kw">let</span> <span class="ident">stream</span> <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:8080&quot;</span>)
                       .<span class="ident">expect</span>(<span class="string">&quot;Couldn&#39;t connect to the server...&quot;</span>);
<span class="macro">assert_eq!</span>(<span class="ident">stream</span>.<span class="ident">local_addr</span>().<span class="ident">unwrap</span>().<span class="ident">ip</span>(),
           <span class="ident">IpAddr::V4</span>(<span class="ident">Ipv4Addr::new</span>(<span class="number">127</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>)));</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Anet%3A%3A%7BIpAddr%2C%20Ipv4Addr%2C%20TcpStream%7D%3B%0A%0Alet%20stream%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A8080%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.expect(%22Couldn't%20connect%20to%20the%20server...%22)%3B%0Aassert_eq!(stream.local_addr().unwrap().ip()%2C%0A%20%20%20%20%20%20%20%20%20%20%20IpAddr%3A%3AV4(Ipv4Addr%3A%3Anew(127%2C%200%2C%200%2C%201)))%3B%0A%7D&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.shutdown" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#232-234" title="goto source code">[src]</a></div><a href="#method.shutdown" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.shutdown" class="fnname">shutdown</a>(&amp;self, how: <a class="enum" href="enum.Shutdown.html" title="enum std::net::Shutdown">Shutdown</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[2]/div[1]/details[5]/div[1]" istranslationnode="true" main_mp="c3VkOz5rYXE6O3RidD8+UXNhQ2VmcHV4KitjeWFhcHpXTw==" sub_mp="[&quot;c3VkOz5rYXE6O1RidFZwd3VwfSsuZnxgZHV/Zno=&quot;]"><p class="translate-text">关闭此连接的读取、写入或两半。</p><p>Shuts down the read, write, or both halves of this connection.</p>
<p class="translate-text">此函数将导致指定部分上的所有未决和未来 I/O 立即返回一个适当的值（请参阅“关闭”的文档）。</p><p>This function will cause all pending and future I/O on the specified
portions to return immediately with an appropriate value (see the
documentation of <a href="enum.Shutdown.html" title="Shutdown"><code>Shutdown</code></a>).</p>
<h5 id="platform-specific-behavior" class="section-header"><a href="#platform-specific-behavior">Platform-specific behavior</a></h5>
<p class="translate-text">多次调用此函数可能会导致不同的行为，具体取决于操作系统。 在 Linux 上，第二个调用将返回 `Ok(())`，但在 macOS 上，它将返回 `ErrorKind::NotConnected`。 这在未来可能会改变。</p><p>Calling this function multiple times may result in different behavior,
depending on the operating system. On Linux, the second call will
return <code>Ok(())</code>, but on macOS, it will return <code>ErrorKind::NotConnected</code>.
This may change in the future.</p>
<h5 id="examples-4" class="section-header"><a href="#examples-4">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::net</span>::{<span class="ident">Shutdown</span>, <span class="ident">TcpStream</span>};

<span class="kw">let</span> <span class="ident">stream</span> <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:8080&quot;</span>)
                       .<span class="ident">expect</span>(<span class="string">&quot;Couldn&#39;t connect to the server...&quot;</span>);
<span class="ident">stream</span>.<span class="ident">shutdown</span>(<span class="ident">Shutdown::Both</span>).<span class="ident">expect</span>(<span class="string">&quot;shutdown call failed&quot;</span>);</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Anet%3A%3A%7BShutdown%2C%20TcpStream%7D%3B%0A%0Alet%20stream%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A8080%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.expect(%22Couldn't%20connect%20to%20the%20server...%22)%3B%0Astream.shutdown(Shutdown%3A%3ABoth).expect(%22shutdown%20call%20failed%22)%3B%0A%7D&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.try_clone" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#253-255" title="goto source code">[src]</a></div><a href="#method.try_clone" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.try_clone" class="fnname">try_clone</a>(&amp;self) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a>&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[2]/div[1]/details[6]/div[1]" istranslationnode="true" main_mp="c3VkOz5rYXE6O3RidD8+UXNhQ2VmcHV4KitkY21Kd3lPT0U=" sub_mp="[&quot;c3VkOz5rYXE6O1RidFZwd3VwfSsuYWZsT3J8fnpw&quot;]"><p class="translate-text">为底层套接字创建一个新的独立拥有的句柄。</p><p>Creates a new independently owned handle to the underlying socket.</p>
<p class="translate-text">返回的 `TcpStream` 是对该对象引用的同一流的引用。 两个句柄将读取和写入相同的数据流，并且在一个流上设置的选项将传播到另一个流。</p><p>The returned <code>TcpStream</code> is a reference to the same stream that this
object references. Both handles will read and write the same stream of
data, and options set on one stream will be propagated to the other
stream.</p>
<h5 id="examples-5" class="section-header"><a href="#examples-5">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::net::TcpStream</span>;

<span class="kw">let</span> <span class="ident">stream</span> <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:8080&quot;</span>)
                       .<span class="ident">expect</span>(<span class="string">&quot;Couldn&#39;t connect to the server...&quot;</span>);
<span class="kw">let</span> <span class="ident">stream_clone</span> <span class="op">=</span> <span class="ident">stream</span>.<span class="ident">try_clone</span>().<span class="ident">expect</span>(<span class="string">&quot;clone failed...&quot;</span>);</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Anet%3A%3ATcpStream%3B%0A%0Alet%20stream%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A8080%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.expect(%22Couldn't%20connect%20to%20the%20server...%22)%3B%0Alet%20stream_clone%20%3D%20stream.try_clone().expect(%22clone%20failed...%22)%3B%0A%7D&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.set_read_timeout" class="method has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.4.0">1.4.0</span><a class="srclink" href="../../src/std/net/tcp.rs.html#297-299" title="goto source code">[src]</a></div><a href="#method.set_read_timeout" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.set_read_timeout" class="fnname">set_read_timeout</a>(&amp;self, dur: <a class="enum" href="../option/enum.Option.html" title="enum std::option::Option">Option</a>&lt;<a class="struct" href="../time/struct.Duration.html" title="struct std::time::Duration">Duration</a>&gt;) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[2]/div[1]/details[7]/div[1]" istranslationnode="true" main_mp="c3VkOz5rYXE6O3RidD8+UXNhQ2VmcHV4KitjdGBKZnBBRX9VTUhBSlVV" sub_mp="[&quot;c3VkOz5rYXE6O1RidFZwd3VwfSsuZnFhT2N1cHBKYHxNRE9UUA==&quot;]"><p class="translate-text">将读取超时设置为指定的超时。</p><p>Sets the read timeout to the timeout specified.</p>
<p class="translate-text">如果指定的值为“None”，则“read”调用将无限期阻塞。 如果将零“持续时间”传递给此方法，则返回“错误”。</p><p>If the value specified is <a href="../option/enum.Option.html#variant.None" title="None"><code>None</code></a>, then <a href="../io/trait.Read.html#tymethod.read"><code>read</code></a> calls will block
indefinitely. An <a href="../result/enum.Result.html#variant.Err" title="Err"><code>Err</code></a> is returned if the zero <a href="../time/struct.Duration.html" title="Duration"><code>Duration</code></a> is
passed to this method.</p>
<h5 id="platform-specific-behavior-1" class="section-header"><a href="#platform-specific-behavior-1">Platform-specific behavior</a></h5>
<p class="translate-text">每当由于设置此选项而导致读取超时时，平台可能会返回不同的错误代码。 例如，Unix 通常会返回“WouldBlock”类型的错误，但 Windows 可能会返回“TimedOut”。</p><p>Platforms may return a different error code whenever a read times out as
a result of setting this option. For example Unix typically returns an
error of the kind <a href="../io/enum.ErrorKind.html#variant.WouldBlock"><code>WouldBlock</code></a>, but Windows may return <a href="../io/enum.ErrorKind.html#variant.TimedOut"><code>TimedOut</code></a>.</p>
<h5 id="examples-6" class="section-header"><a href="#examples-6">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::net::TcpStream</span>;

<span class="kw">let</span> <span class="ident">stream</span> <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:8080&quot;</span>)
                       .<span class="ident">expect</span>(<span class="string">&quot;Couldn&#39;t connect to the server...&quot;</span>);
<span class="ident">stream</span>.<span class="ident">set_read_timeout</span>(<span class="prelude-val">None</span>).<span class="ident">expect</span>(<span class="string">&quot;set_read_timeout call failed&quot;</span>);</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Anet%3A%3ATcpStream%3B%0A%0Alet%20stream%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A8080%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.expect(%22Couldn't%20connect%20to%20the%20server...%22)%3B%0Astream.set_read_timeout(None).expect(%22set_read_timeout%20call%20failed%22)%3B%0A%7D&amp;edition=2018">Run</a></div>
<p class="translate-text">如果将零“持续时间”传递给此方法，则返回“错误”：</p><p>An <a href="../result/enum.Result.html#variant.Err" title="Err"><code>Err</code></a> is returned if the zero <a href="../time/struct.Duration.html" title="Duration"><code>Duration</code></a> is passed to this
method:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::io</span>;
<span class="kw">use</span> <span class="ident">std::net::TcpStream</span>;
<span class="kw">use</span> <span class="ident">std::time::Duration</span>;

<span class="kw">let</span> <span class="ident">stream</span> <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:8080&quot;</span>).<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="ident">result</span> <span class="op">=</span> <span class="ident">stream</span>.<span class="ident">set_read_timeout</span>(<span class="prelude-val">Some</span>(<span class="ident">Duration::new</span>(<span class="number">0</span>, <span class="number">0</span>)));
<span class="kw">let</span> <span class="ident">err</span> <span class="op">=</span> <span class="ident">result</span>.<span class="ident">unwrap_err</span>();
<span class="macro">assert_eq!</span>(<span class="ident">err</span>.<span class="ident">kind</span>(), <span class="ident">io::ErrorKind::InvalidInput</span>)</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Aio%3B%0Ause%20std%3A%3Anet%3A%3ATcpStream%3B%0Ause%20std%3A%3Atime%3A%3ADuration%3B%0A%0Alet%20stream%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A8080%22).unwrap()%3B%0Alet%20result%20%3D%20stream.set_read_timeout(Some(Duration%3A%3Anew(0%2C%200)))%3B%0Alet%20err%20%3D%20result.unwrap_err()%3B%0Aassert_eq!(err.kind()%2C%20io%3A%3AErrorKind%3A%3AInvalidInput)%0A%7D&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.set_write_timeout" class="method has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.4.0">1.4.0</span><a class="srclink" href="../../src/std/net/tcp.rs.html#341-343" title="goto source code">[src]</a></div><a href="#method.set_write_timeout" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.set_write_timeout" class="fnname">set_write_timeout</a>(&amp;self, dur: <a class="enum" href="../option/enum.Option.html" title="enum std::option::Option">Option</a>&lt;<a class="struct" href="../time/struct.Duration.html" title="struct std::time::Duration">Duration</a>&gt;) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[2]/div[1]/details[8]/div[1]" istranslationnode="true" main_mp="c3VkOz5rYXE6O3RidD8+UXNhQ2VmcHV4KitjdGBKY2dJVUV+UExJQE9UVA==" sub_mp="[&quot;c3VkOz5rYXE6O1RidFZwd3VwfSsuZnFhT2ZieGBwS2FJTEVOUVE=&quot;]"><p class="translate-text">将写入超时设置为指定的超时。</p><p>Sets the write timeout to the timeout specified.</p>
<p class="translate-text">如果指定的值为“None”，则“write”调用将无限期阻塞。 如果将零“持续时间”传递给此方法，则返回“错误”。</p><p>If the value specified is <a href="../option/enum.Option.html#variant.None" title="None"><code>None</code></a>, then <a href="../io/trait.Write.html#tymethod.write"><code>write</code></a> calls will block
indefinitely. An <a href="../result/enum.Result.html#variant.Err" title="Err"><code>Err</code></a> is returned if the zero <a href="../time/struct.Duration.html" title="Duration"><code>Duration</code></a> is
passed to this method.</p>
<h5 id="platform-specific-behavior-2" class="section-header"><a href="#platform-specific-behavior-2">Platform-specific behavior</a></h5>
<p class="translate-text">每当由于设置此选项而导致写入超时时，平台可能会返回不同的错误代码。 例如，Unix 通常会返回“WouldBlock”类型的错误，但 Windows 可能会返回“TimedOut”。</p><p>Platforms may return a different error code whenever a write times out
as a result of setting this option. For example Unix typically returns
an error of the kind <a href="../io/enum.ErrorKind.html#variant.WouldBlock"><code>WouldBlock</code></a>, but Windows may return <a href="../io/enum.ErrorKind.html#variant.TimedOut"><code>TimedOut</code></a>.</p>
<h5 id="examples-7" class="section-header"><a href="#examples-7">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::net::TcpStream</span>;

<span class="kw">let</span> <span class="ident">stream</span> <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:8080&quot;</span>)
                       .<span class="ident">expect</span>(<span class="string">&quot;Couldn&#39;t connect to the server...&quot;</span>);
<span class="ident">stream</span>.<span class="ident">set_write_timeout</span>(<span class="prelude-val">None</span>).<span class="ident">expect</span>(<span class="string">&quot;set_write_timeout call failed&quot;</span>);</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Anet%3A%3ATcpStream%3B%0A%0Alet%20stream%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A8080%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.expect(%22Couldn't%20connect%20to%20the%20server...%22)%3B%0Astream.set_write_timeout(None).expect(%22set_write_timeout%20call%20failed%22)%3B%0A%7D&amp;edition=2018">Run</a></div>
<p class="translate-text">如果将零“持续时间”传递给此方法，则返回“错误”：</p><p>An <a href="../result/enum.Result.html#variant.Err" title="Err"><code>Err</code></a> is returned if the zero <a href="../time/struct.Duration.html" title="Duration"><code>Duration</code></a> is passed to this
method:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::io</span>;
<span class="kw">use</span> <span class="ident">std::net::TcpStream</span>;
<span class="kw">use</span> <span class="ident">std::time::Duration</span>;

<span class="kw">let</span> <span class="ident">stream</span> <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:8080&quot;</span>).<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="ident">result</span> <span class="op">=</span> <span class="ident">stream</span>.<span class="ident">set_write_timeout</span>(<span class="prelude-val">Some</span>(<span class="ident">Duration::new</span>(<span class="number">0</span>, <span class="number">0</span>)));
<span class="kw">let</span> <span class="ident">err</span> <span class="op">=</span> <span class="ident">result</span>.<span class="ident">unwrap_err</span>();
<span class="macro">assert_eq!</span>(<span class="ident">err</span>.<span class="ident">kind</span>(), <span class="ident">io::ErrorKind::InvalidInput</span>)</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Aio%3B%0Ause%20std%3A%3Anet%3A%3ATcpStream%3B%0Ause%20std%3A%3Atime%3A%3ADuration%3B%0A%0Alet%20stream%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A8080%22).unwrap()%3B%0Alet%20result%20%3D%20stream.set_write_timeout(Some(Duration%3A%3Anew(0%2C%200)))%3B%0Alet%20err%20%3D%20result.unwrap_err()%3B%0Aassert_eq!(err.kind()%2C%20io%3A%3AErrorKind%3A%3AInvalidInput)%0A%7D&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.read_timeout" class="method has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.4.0">1.4.0</span><a class="srclink" href="../../src/std/net/tcp.rs.html#366-368" title="goto source code">[src]</a></div><a href="#method.read_timeout" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.read_timeout" class="fnname">read_timeout</a>(&amp;self) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="enum" href="../option/enum.Option.html" title="enum std::option::Option">Option</a>&lt;<a class="struct" href="../time/struct.Duration.html" title="struct std::time::Duration">Duration</a>&gt;&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[2]/div[1]/details[9]/div[1]" istranslationnode="true" main_mp="c3VkOz5rYXE6O3RidD8+UXNhQ2VmcHV4KitidHVxS2FJTEVOUVE=" sub_mp="[&quot;c3VkOz5rYXE6O1RidFZwd3VwfSsuZ3F0dE5keHlwe2BU&quot;]"><p class="translate-text">返回此套接字的读取超时。</p><p>Returns the read timeout of this socket.</p>
<p class="translate-text">如果超时为“无”，则“读取”调用将无限期阻塞。</p><p>If the timeout is <a href="../option/enum.Option.html#variant.None" title="None"><code>None</code></a>, then <a href="../io/trait.Read.html#tymethod.read"><code>read</code></a> calls will block indefinitely.</p>
<h5 id="platform-specific-behavior-3" class="section-header"><a href="#platform-specific-behavior-3">Platform-specific behavior</a></h5>
<p class="translate-text">某些平台不提供对当前超时的访问。</p><p>Some platforms do not provide access to the current timeout.</p>
<h5 id="examples-8" class="section-header"><a href="#examples-8">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::net::TcpStream</span>;

<span class="kw">let</span> <span class="ident">stream</span> <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:8080&quot;</span>)
                       .<span class="ident">expect</span>(<span class="string">&quot;Couldn&#39;t connect to the server...&quot;</span>);
<span class="ident">stream</span>.<span class="ident">set_read_timeout</span>(<span class="prelude-val">None</span>).<span class="ident">expect</span>(<span class="string">&quot;set_read_timeout call failed&quot;</span>);
<span class="macro">assert_eq!</span>(<span class="ident">stream</span>.<span class="ident">read_timeout</span>().<span class="ident">unwrap</span>(), <span class="prelude-val">None</span>);</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Anet%3A%3ATcpStream%3B%0A%0Alet%20stream%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A8080%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.expect(%22Couldn't%20connect%20to%20the%20server...%22)%3B%0Astream.set_read_timeout(None).expect(%22set_read_timeout%20call%20failed%22)%3B%0Aassert_eq!(stream.read_timeout().unwrap()%2C%20None)%3B%0A%7D&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.write_timeout" class="method has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.4.0">1.4.0</span><a class="srclink" href="../../src/std/net/tcp.rs.html#391-393" title="goto source code">[src]</a></div><a href="#method.write_timeout" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.write_timeout" class="fnname">write_timeout</a>(&amp;self) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="enum" href="../option/enum.Option.html" title="enum std::option::Option">Option</a>&lt;<a class="struct" href="../time/struct.Duration.html" title="struct std::time::Duration">Duration</a>&gt;&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[2]/div[1]/details[10]/div[1]" istranslationnode="true" main_mp="c3VkOz5rYXE6O3RidD8+UXNhQ2VmcHV4KitnY31hcUpUSE1ES1BQ" sub_mp="[&quot;c3VkOz5rYXE6O1RidFZwd3VwfSsuYmZ8ZHRPZX14cXpVVQ==&quot;]"><p class="translate-text">返回此套接字的写入超时。</p><p>Returns the write timeout of this socket.</p>
<p class="translate-text">如果超时为“无”，则“写入”调用将无限期阻塞。</p><p>If the timeout is <a href="../option/enum.Option.html#variant.None" title="None"><code>None</code></a>, then <a href="../io/trait.Write.html#tymethod.write"><code>write</code></a> calls will block indefinitely.</p>
<h5 id="platform-specific-behavior-4" class="section-header"><a href="#platform-specific-behavior-4">Platform-specific behavior</a></h5>
<p class="translate-text">某些平台不提供对当前超时的访问。</p><p>Some platforms do not provide access to the current timeout.</p>
<h5 id="examples-9" class="section-header"><a href="#examples-9">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::net::TcpStream</span>;

<span class="kw">let</span> <span class="ident">stream</span> <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:8080&quot;</span>)
                       .<span class="ident">expect</span>(<span class="string">&quot;Couldn&#39;t connect to the server...&quot;</span>);
<span class="ident">stream</span>.<span class="ident">set_write_timeout</span>(<span class="prelude-val">None</span>).<span class="ident">expect</span>(<span class="string">&quot;set_write_timeout call failed&quot;</span>);
<span class="macro">assert_eq!</span>(<span class="ident">stream</span>.<span class="ident">write_timeout</span>().<span class="ident">unwrap</span>(), <span class="prelude-val">None</span>);</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Anet%3A%3ATcpStream%3B%0A%0Alet%20stream%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A8080%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.expect(%22Couldn't%20connect%20to%20the%20server...%22)%3B%0Astream.set_write_timeout(None).expect(%22set_write_timeout%20call%20failed%22)%3B%0Aassert_eq!(stream.write_timeout().unwrap()%2C%20None)%3B%0A%7D&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.peek" class="method has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.18.0">1.18.0</span><a class="srclink" href="../../src/std/net/tcp.rs.html#413-415" title="goto source code">[src]</a></div><a href="#method.peek" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.peek" class="fnname">peek</a>(&amp;self, buf: <a class="primitive" href="../primitive.slice.html">&amp;mut [</a><a class="primitive" href="../primitive.u8.html">u8</a><a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.usize.html">usize</a>&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[2]/div[1]/details[11]/div[1]" istranslationnode="true" main_mp="c3VkOz5rYXE6O3RidD8+UXNhQ2VmcHV4KitgdHF+" sub_mp="[&quot;c3VkOz5rYXE6O1RidFZwd3VwfSsuZXFwew==&quot;]"><p class="translate-text">从它所连接的远程地址接收套接字上的数据，而不从队列中删除该数据。 成功时，返回查看的字节数。</p><p>Receives data on the socket from the remote address to which it is
connected, without removing that data from the queue. On success,
returns the number of bytes peeked.</p>
<p class="translate-text">连续调用返回相同的数据。 这是通过将“MSG_PEEK”作为标志传递给底层的“recv”系统调用来实现的。</p><p>Successive calls return the same data. This is accomplished by passing
<code>MSG_PEEK</code> as a flag to the underlying <code>recv</code> system call.</p>
<h5 id="examples-10" class="section-header"><a href="#examples-10">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::net::TcpStream</span>;

<span class="kw">let</span> <span class="ident">stream</span> <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:8000&quot;</span>)
                       .<span class="ident">expect</span>(<span class="string">&quot;couldn&#39;t bind to address&quot;</span>);
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">buf</span> <span class="op">=</span> [<span class="number">0</span>; <span class="number">10</span>];
<span class="kw">let</span> <span class="ident">len</span> <span class="op">=</span> <span class="ident">stream</span>.<span class="ident">peek</span>(<span class="kw-2">&amp;mut</span> <span class="ident">buf</span>).<span class="ident">expect</span>(<span class="string">&quot;peek failed&quot;</span>);</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Anet%3A%3ATcpStream%3B%0A%0Alet%20stream%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A8000%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.expect(%22couldn't%20bind%20to%20address%22)%3B%0Alet%20mut%20buf%20%3D%20%5B0%3B%2010%5D%3B%0Alet%20len%20%3D%20stream.peek(%26mut%20buf).expect(%22peek%20failed%22)%3B%0A%7D&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.set_linger" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#438-440" title="goto source code">[src]</a></div><a href="#method.set_linger" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.set_linger" class="fnname">set_linger</a>(&amp;self, linger: <a class="enum" href="../option/enum.Option.html" title="enum std::option::Option">Option</a>&lt;<a class="struct" href="../time/struct.Duration.html" title="struct std::time::Duration">Duration</a>&gt;) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>tcp_linger</code>&nbsp;<a href="https://github.com/rust-lang/rust/issues/88494">#88494</a>)</div></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[2]/div[1]/details[12]/div[1]" istranslationnode="true" main_mp="c3VkOz5rYXE6O3RidD8+UXNhQ2VmcHV4KitjdGBKeHxORkVT" sub_mp="[&quot;c3VkOz5rYXE6O1RidFZwd3VwfSsuZnFhT315f3NwZg==&quot;]"><p class="translate-text">设置此套接字上的 `SO_LINGER` 选项的值。</p><p>Sets the value of the <code>SO_LINGER</code> option on this socket.</p>
<p class="translate-text">此值控制在仍有数据发送时如何关闭套接字。 如果设置了 `SO_LINGER`，当系统尝试发送挂起的数据时，套接字将在指定的时间内保持打开状态。 否则，系统可能会立即关闭套接字，或者等待默认超时。</p><p>This value controls how the socket is closed when data remains
to be sent. If <code>SO_LINGER</code> is set, the socket will remain open
for the specified duration as the system attempts to send pending data.
Otherwise, the system may close the socket immediately, or wait for a
default timeout.</p>
<h5 id="examples-11" class="section-header"><a href="#examples-11">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="attribute">#![<span class="ident">feature</span>(<span class="ident">tcp_linger</span>)]</span>

<span class="kw">use</span> <span class="ident">std::net::TcpStream</span>;
<span class="kw">use</span> <span class="ident">std::time::Duration</span>;

<span class="kw">let</span> <span class="ident">stream</span> <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:8080&quot;</span>)
                       .<span class="ident">expect</span>(<span class="string">&quot;Couldn&#39;t connect to the server...&quot;</span>);
<span class="ident">stream</span>.<span class="ident">set_linger</span>(<span class="prelude-val">Some</span>(<span class="ident">Duration::from_secs</span>(<span class="number">0</span>))).<span class="ident">expect</span>(<span class="string">&quot;set_linger call failed&quot;</span>);</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(tcp_linger)%5D%0A%0Afn%20main()%20%7B%0Ause%20std%3A%3Anet%3A%3ATcpStream%3B%0Ause%20std%3A%3Atime%3A%3ADuration%3B%0A%0Alet%20stream%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A8080%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.expect(%22Couldn't%20connect%20to%20the%20server...%22)%3B%0Astream.set_linger(Some(Duration%3A%3Afrom_secs(0))).expect(%22set_linger%20call%20failed%22)%3B%0A%7D&amp;version=nightly&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.linger" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#460-462" title="goto source code">[src]</a></div><a href="#method.linger" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.linger" class="fnname">linger</a>(&amp;self) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="enum" href="../option/enum.Option.html" title="enum std::option::Option">Option</a>&lt;<a class="struct" href="../time/struct.Duration.html" title="struct std::time::Duration">Duration</a>&gt;&gt;</h4></div><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>tcp_linger</code>&nbsp;<a href="https://github.com/rust-lang/rust/issues/88494">#88494</a>)</div></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[2]/div[1]/details[13]/div[1]" istranslationnode="true" main_mp="c3VkOz5rYXE6O3RidD8+UXNhQ2VmcHV4Kit8eHpycWc=" sub_mp="[&quot;c3VkOz5rYXE6O1RidFZwd3VwfSsueX17d3Ri&quot;]"><p class="translate-text">获取此套接字上的 `SO_LINGER` 选项的值。</p><p>Gets the value of the <code>SO_LINGER</code> option on this socket.</p>
<p class="translate-text">有关此选项的更多信息，请参阅“TcpStream::set_linger”。</p><p>For more information about this option, see <a href="struct.TcpStream.html#method.set_linger" title="TcpStream::set_linger"><code>TcpStream::set_linger</code></a>.</p>
<h5 id="examples-12" class="section-header"><a href="#examples-12">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="attribute">#![<span class="ident">feature</span>(<span class="ident">tcp_linger</span>)]</span>

<span class="kw">use</span> <span class="ident">std::net::TcpStream</span>;
<span class="kw">use</span> <span class="ident">std::time::Duration</span>;

<span class="kw">let</span> <span class="ident">stream</span> <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:8080&quot;</span>)
                       .<span class="ident">expect</span>(<span class="string">&quot;Couldn&#39;t connect to the server...&quot;</span>);
<span class="ident">stream</span>.<span class="ident">set_linger</span>(<span class="prelude-val">Some</span>(<span class="ident">Duration::from_secs</span>(<span class="number">0</span>))).<span class="ident">expect</span>(<span class="string">&quot;set_linger call failed&quot;</span>);
<span class="macro">assert_eq!</span>(<span class="ident">stream</span>.<span class="ident">linger</span>().<span class="ident">unwrap</span>(), <span class="prelude-val">Some</span>(<span class="ident">Duration::from_secs</span>(<span class="number">0</span>)));</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0A%23!%5Bfeature(tcp_linger)%5D%0A%0Afn%20main()%20%7B%0Ause%20std%3A%3Anet%3A%3ATcpStream%3B%0Ause%20std%3A%3Atime%3A%3ADuration%3B%0A%0Alet%20stream%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A8080%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.expect(%22Couldn't%20connect%20to%20the%20server...%22)%3B%0Astream.set_linger(Some(Duration%3A%3Afrom_secs(0))).expect(%22set_linger%20call%20failed%22)%3B%0Aassert_eq!(stream.linger().unwrap()%2C%20Some(Duration%3A%3Afrom_secs(0)))%3B%0A%7D&amp;version=nightly&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.set_nodelay" class="method has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.9.0">1.9.0</span><a class="srclink" href="../../src/std/net/tcp.rs.html#482-484" title="goto source code">[src]</a></div><a href="#method.set_nodelay" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.set_nodelay" class="fnname">set_nodelay</a>(&amp;self, nodelay: <a class="primitive" href="../primitive.bool.html">bool</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[2]/div[1]/details[14]/div[1]" istranslationnode="true" main_mp="c3VkOz5rYXE6O3RidD8+UXNhQ2VmcHV4KitjdGBKenpERExAXQ==" sub_mp="[&quot;c3VkOz5rYXE6O1RidFZwd3VwfSsuZnFhT39/dXF5dWw=&quot;]"><p class="translate-text">设置此套接字上的 `TCP_NODELAY` 选项的值。</p><p>Sets the value of the <code>TCP_NODELAY</code> option on this socket.</p>
<p class="translate-text">如果设置，此选项将禁用 Nagle 算法。 这意味着即使只有少量数据，也总是尽快发送段。 未设置时，数据会被缓冲，直到有足够的量发送出去，从而避免频繁发送小数据包。</p><p>If set, this option disables the Nagle algorithm. This means that
segments are always sent as soon as possible, even if there is only a
small amount of data. When not set, data is buffered until there is a
sufficient amount to send out, thereby avoiding the frequent sending of
small packets.</p>
<h5 id="examples-13" class="section-header"><a href="#examples-13">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::net::TcpStream</span>;

<span class="kw">let</span> <span class="ident">stream</span> <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:8080&quot;</span>)
                       .<span class="ident">expect</span>(<span class="string">&quot;Couldn&#39;t connect to the server...&quot;</span>);
<span class="ident">stream</span>.<span class="ident">set_nodelay</span>(<span class="bool-val">true</span>).<span class="ident">expect</span>(<span class="string">&quot;set_nodelay call failed&quot;</span>);</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Anet%3A%3ATcpStream%3B%0A%0Alet%20stream%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A8080%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.expect(%22Couldn't%20connect%20to%20the%20server...%22)%3B%0Astream.set_nodelay(true).expect(%22set_nodelay%20call%20failed%22)%3B%0A%7D&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.nodelay" class="method has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.9.0">1.9.0</span><a class="srclink" href="../../src/std/net/tcp.rs.html#501-503" title="goto source code">[src]</a></div><a href="#method.nodelay" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.nodelay" class="fnname">nodelay</a>(&amp;self) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.bool.html">bool</a>&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[2]/div[1]/details[15]/div[1]" istranslationnode="true" main_mp="c3VkOz5rYXE6O3RidD8+UXNhQ2VmcHV4Kit+fnBweHRZ" sub_mp="[&quot;c3VkOz5rYXE6O1RidFZwd3VwfSsue3txdX1xaA==&quot;]"><p class="translate-text">获取此套接字上的 `TCP_NODELAY` 选项的值。</p><p>Gets the value of the <code>TCP_NODELAY</code> option on this socket.</p>
<p class="translate-text">有关此选项的更多信息，请参阅“TcpStream::set_nodelay”。</p><p>For more information about this option, see <a href="struct.TcpStream.html#method.set_nodelay" title="TcpStream::set_nodelay"><code>TcpStream::set_nodelay</code></a>.</p>
<h5 id="examples-14" class="section-header"><a href="#examples-14">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::net::TcpStream</span>;

<span class="kw">let</span> <span class="ident">stream</span> <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:8080&quot;</span>)
                       .<span class="ident">expect</span>(<span class="string">&quot;Couldn&#39;t connect to the server...&quot;</span>);
<span class="ident">stream</span>.<span class="ident">set_nodelay</span>(<span class="bool-val">true</span>).<span class="ident">expect</span>(<span class="string">&quot;set_nodelay call failed&quot;</span>);
<span class="macro">assert_eq!</span>(<span class="ident">stream</span>.<span class="ident">nodelay</span>().<span class="ident">unwrap_or</span>(<span class="bool-val">false</span>), <span class="bool-val">true</span>);</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Anet%3A%3ATcpStream%3B%0A%0Alet%20stream%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A8080%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.expect(%22Couldn't%20connect%20to%20the%20server...%22)%3B%0Astream.set_nodelay(true).expect(%22set_nodelay%20call%20failed%22)%3B%0Aassert_eq!(stream.nodelay().unwrap_or(false)%2C%20true)%3B%0A%7D&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.set_ttl" class="method has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.9.0">1.9.0</span><a class="srclink" href="../../src/std/net/tcp.rs.html#520-522" title="goto source code">[src]</a></div><a href="#method.set_ttl" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.set_ttl" class="fnname">set_ttl</a>(&amp;self, ttl: <a class="primitive" href="../primitive.u32.html">u32</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[2]/div[1]/details[16]/div[1]" istranslationnode="true" main_mp="c3VkOz5rYXE6O3RidD8+UXNhQ2VmcHV4KitjdGBKYGFM" sub_mp="[&quot;c3VkOz5rYXE6O1RidFZwd3VwfSsuZnFhT2VkfQ==&quot;]"><p class="translate-text">设置此套接字上的 `IP_TTL` 选项的值。</p><p>Sets the value for the <code>IP_TTL</code> option on this socket.</p>
<p class="translate-text">此值设置从该套接字发送的每个数据包中使用的生存时间字段。</p><p>This value sets the time-to-live field that is used in every packet sent
from this socket.</p>
<h5 id="examples-15" class="section-header"><a href="#examples-15">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::net::TcpStream</span>;

<span class="kw">let</span> <span class="ident">stream</span> <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:8080&quot;</span>)
                       .<span class="ident">expect</span>(<span class="string">&quot;Couldn&#39;t connect to the server...&quot;</span>);
<span class="ident">stream</span>.<span class="ident">set_ttl</span>(<span class="number">100</span>).<span class="ident">expect</span>(<span class="string">&quot;set_ttl call failed&quot;</span>);</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Anet%3A%3ATcpStream%3B%0A%0Alet%20stream%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A8080%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.expect(%22Couldn't%20connect%20to%20the%20server...%22)%3B%0Astream.set_ttl(100).expect(%22set_ttl%20call%20failed%22)%3B%0A%7D&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.ttl" class="method has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.9.0">1.9.0</span><a class="srclink" href="../../src/std/net/tcp.rs.html#539-541" title="goto source code">[src]</a></div><a href="#method.ttl" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.ttl" class="fnname">ttl</a>(&amp;self) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.u32.html">u32</a>&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[2]/div[1]/details[17]/div[1]" istranslationnode="true" main_mp="c3VkOz5rYXE6O3RidD8+UXNhQ2VmcHV4KitkZXg=" sub_mp="[&quot;c3VkOz5rYXE6O1RidFZwd3VwfSsuYWB5&quot;]"><p class="translate-text">获取此套接字的 `IP_TTL` 选项的值。</p><p>Gets the value of the <code>IP_TTL</code> option for this socket.</p>
<p class="translate-text">有关此选项的更多信息，请参阅“TcpStream::set_ttl”。</p><p>For more information about this option, see <a href="struct.TcpStream.html#method.set_ttl" title="TcpStream::set_ttl"><code>TcpStream::set_ttl</code></a>.</p>
<h5 id="examples-16" class="section-header"><a href="#examples-16">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::net::TcpStream</span>;

<span class="kw">let</span> <span class="ident">stream</span> <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:8080&quot;</span>)
                       .<span class="ident">expect</span>(<span class="string">&quot;Couldn&#39;t connect to the server...&quot;</span>);
<span class="ident">stream</span>.<span class="ident">set_ttl</span>(<span class="number">100</span>).<span class="ident">expect</span>(<span class="string">&quot;set_ttl call failed&quot;</span>);
<span class="macro">assert_eq!</span>(<span class="ident">stream</span>.<span class="ident">ttl</span>().<span class="ident">unwrap_or</span>(<span class="number">0</span>), <span class="number">100</span>);</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Anet%3A%3ATcpStream%3B%0A%0Alet%20stream%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A8080%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.expect(%22Couldn't%20connect%20to%20the%20server...%22)%3B%0Astream.set_ttl(100).expect(%22set_ttl%20call%20failed%22)%3B%0Aassert_eq!(stream.ttl().unwrap_or(0)%2C%20100)%3B%0A%7D&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.take_error" class="method has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.9.0">1.9.0</span><a class="srclink" href="../../src/std/net/tcp.rs.html#559-561" title="goto source code">[src]</a></div><a href="#method.take_error" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.take_error" class="fnname">take_error</a>(&amp;self) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="enum" href="../option/enum.Option.html" title="enum std::option::Option">Option</a>&lt;<a class="struct" href="../io/struct.Error.html" title="struct std::io::Error">Error</a>&gt;&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[2]/div[1]/details[18]/div[1]" istranslationnode="true" main_mp="c3VkOz5rYXE6O3RidD8+UXNhQ2VmcHV4KitkcH9wS3BSU09T" sub_mp="[&quot;c3VkOz5rYXE6O1RidFZwd3VwfSsuYXV+dU51Y2Z6Zg==&quot;]"><p class="translate-text">获取此套接字上的 `SO_ERROR` 选项的值。</p><p>Gets the value of the <code>SO_ERROR</code> option on this socket.</p>
<p class="translate-text">这将检索底层套接字中存储的错误，清除进程中的字段。 这对于检查调用之间的错误很有用。</p><p>This will retrieve the stored error in the underlying socket, clearing
the field in the process. This can be useful for checking errors between
calls.</p>
<h5 id="examples-17" class="section-header"><a href="#examples-17">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::net::TcpStream</span>;

<span class="kw">let</span> <span class="ident">stream</span> <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:8080&quot;</span>)
                       .<span class="ident">expect</span>(<span class="string">&quot;Couldn&#39;t connect to the server...&quot;</span>);
<span class="ident">stream</span>.<span class="ident">take_error</span>().<span class="ident">expect</span>(<span class="string">&quot;No error was expected...&quot;</span>);</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Anet%3A%3ATcpStream%3B%0A%0Alet%20stream%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A8080%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.expect(%22Couldn't%20connect%20to%20the%20server...%22)%3B%0Astream.take_error().expect(%22No%20error%20was%20expected...%22)%3B%0A%7D&amp;edition=2018">Run</a></div>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.set_nonblocking" class="method has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.9.0">1.9.0</span><a class="srclink" href="../../src/std/net/tcp.rs.html#604-606" title="goto source code">[src]</a></div><a href="#method.set_nonblocking" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.set_nonblocking" class="fnname">set_nonblocking</a>(&amp;self, nonblocking: <a class="primitive" href="../primitive.bool.html">bool</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div></summary><div class="docblock" xpath="/html[1]/body[1]/section[1]/details[2]/div[1]/details[19]/div[1]" istranslationnode="true" main_mp="c3VkOz5rYXE6O3RidD8+UXNhQ2VmcHV4KitjdGBKenpOQ0xOR05NS0c=" sub_mp="[&quot;c3VkOz5rYXE6O1RidFZwd3VwfSsuZnFhT39/f3Z5e3ZLSE5G&quot;]"><p class="translate-text">将此 TCP 流移入或移出非阻塞模式。</p><p>Moves this TCP stream into or out of nonblocking mode.</p>
<p class="translate-text">这将导致 `read`、`write`、`recv` 和 `send` 操作变为非阻塞，即立即从它们的调用中返回。 如果 IO 操作成功，则返回 `Ok`，无需进一步操作。 如果 IO 操作无法完成并需要重试，则返回类型为“io::ErrorKind::WouldBlock”的错误。</p><p>This will result in <code>read</code>, <code>write</code>, <code>recv</code> and <code>send</code> operations
becoming nonblocking, i.e., immediately returning from their calls.
If the IO operation is successful, <code>Ok</code> is returned and no further
action is required. If the IO operation could not be completed and needs
to be retried, an error with kind <a href="../io/enum.ErrorKind.html#variant.WouldBlock" title="io::ErrorKind::WouldBlock"><code>io::ErrorKind::WouldBlock</code></a> is
returned.</p>
<p class="translate-text">在 Unix 平台上，调用此方法对应于调用 `fcntl` `FIONBIO`。 在 Windows 上调用此方法对应于调用 `ioctlsocket` `FIONBIO`。</p><p>On Unix platforms, calling this method corresponds to calling <code>fcntl</code>
<code>FIONBIO</code>. On Windows calling this method corresponds to calling
<code>ioctlsocket</code> <code>FIONBIO</code>.</p>
<h5 id="examples-18" class="section-header"><a href="#examples-18">Examples</a></h5>
<p class="translate-text">以非阻塞模式从 TCP 流中读取字节：</p><p>Reading bytes from a TCP stream in non-blocking mode:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">std::io</span>::{<span class="self">self</span>, <span class="ident">Read</span>};
<span class="kw">use</span> <span class="ident">std::net::TcpStream</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">stream</span> <span class="op">=</span> <span class="ident">TcpStream::connect</span>(<span class="string">&quot;127.0.0.1:7878&quot;</span>)
    .<span class="ident">expect</span>(<span class="string">&quot;Couldn&#39;t connect to the server...&quot;</span>);
<span class="ident">stream</span>.<span class="ident">set_nonblocking</span>(<span class="bool-val">true</span>).<span class="ident">expect</span>(<span class="string">&quot;set_nonblocking call failed&quot;</span>);

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">buf</span> <span class="op">=</span> <span class="macro">vec!</span>[];
<span class="kw">loop</span> {
    <span class="kw">match</span> <span class="ident">stream</span>.<span class="ident">read_to_end</span>(<span class="kw-2">&amp;mut</span> <span class="ident">buf</span>) {
        <span class="prelude-val">Ok</span>(<span class="kw">_</span>) =&gt; <span class="kw">break</span>,
        <span class="prelude-val">Err</span>(<span class="kw-2">ref</span> <span class="ident">e</span>) <span class="kw">if</span> <span class="ident">e</span>.<span class="ident">kind</span>() <span class="op">==</span> <span class="ident">io::ErrorKind::WouldBlock</span> =&gt; {
            <span class="comment">// wait until network socket is ready, typically implemented</span>
            <span class="comment">// via platform-specific APIs such as epoll or IOCP</span>
            <span class="ident">wait_for_fd</span>();
        }
        <span class="prelude-val">Err</span>(<span class="ident">e</span>) =&gt; <span class="macro">panic!</span>(<span class="string">&quot;encountered IO error: {}&quot;</span>, <span class="ident">e</span>),
    };
};
<span class="macro">println!</span>(<span class="string">&quot;bytes: {:?}&quot;</span>, <span class="ident">buf</span>);</code></pre><a class="test-arrow" target="_blank" href="https://play.rust-lang.org/?code=%23!%5Ballow(unused)%5D%0Afn%20main()%20%7B%0Ause%20std%3A%3Aio%3A%3A%7Bself%2C%20Read%7D%3B%0Ause%20std%3A%3Anet%3A%3ATcpStream%3B%0A%0Alet%20mut%20stream%20%3D%20TcpStream%3A%3Aconnect(%22127.0.0.1%3A7878%22)%0A%20%20%20%20.expect(%22Couldn't%20connect%20to%20the%20server...%22)%3B%0Astream.set_nonblocking(true).expect(%22set_nonblocking%20call%20failed%22)%3B%0A%0Afn%20wait_for_fd()%20%7B%20unimplemented!()%20%7D%0Alet%20mut%20buf%20%3D%20vec!%5B%5D%3B%0Aloop%20%7B%0A%20%20%20%20match%20stream.read_to_end(%26mut%20buf)%20%7B%0A%20%20%20%20%20%20%20%20Ok(_)%20%3D%3E%20break%2C%0A%20%20%20%20%20%20%20%20Err(ref%20e)%20if%20e.kind()%20%3D%3D%20io%3A%3AErrorKind%3A%3AWouldBlock%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20wait%20until%20network%20socket%20is%20ready%2C%20typically%20implemented%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20via%20platform-specific%20APIs%20such%20as%20epoll%20or%20IOCP%0A%20%20%20%20%20%20%20%20%20%20%20%20wait_for_fd()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20Err(e)%20%3D%3E%20panic!(%22encountered%20IO%20error%3A%20%7B%7D%22%2C%20e)%2C%0A%20%20%20%20%7D%3B%0A%7D%3B%0Aprintln!(%22bytes%3A%20%7B%3A%3F%7D%22%2C%20buf)%3B%0A%7D&amp;edition=2018">Run</a></div>
</div></details></div></details><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor"></a></h2><div id="trait-implementations-list"><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-AsFd" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/os/fd/owned.rs.html#214-219" title="goto source code">[src]</a></div><a href="#impl-AsFd" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../os/unix/io/trait.AsFd.html" title="trait std::os::unix::io::AsFd">AsFd</a> for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.as_fd" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/os/fd/owned.rs.html#216-218" title="goto source code">[src]</a></div><a href="#method.as_fd" class="anchor"></a><h4 class="code-header">fn <a href="../os/unix/io/trait.AsFd.html#tymethod.as_fd" class="fnname">as_fd</a>(&amp;self) -&gt; <a class="struct" href="../os/unix/io/struct.BorrowedFd.html" title="struct std::os::unix::io::BorrowedFd">BorrowedFd</a>&lt;'_&gt;</h4></div></summary><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>io_safety</code>&nbsp;<a href="https://github.com/rust-lang/rust/issues/87074">#87074</a>)</div><div class="stab portability">This is supported on <strong>Unix</strong> only.</div></div><div class='docblock'><p>Borrows the file descriptor. <a href="../os/unix/io/trait.AsFd.html#tymethod.as_fd">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-AsRawFd" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/os/fd/net.rs.html#17" title="goto source code">[src]</a></div><a href="#impl-AsRawFd" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../os/unix/io/trait.AsRawFd.html" title="trait std::os::unix::io::AsRawFd">AsRawFd</a> for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.as_raw_fd" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/os/fd/net.rs.html#17" title="goto source code">[src]</a></div><a href="#method.as_raw_fd" class="anchor"></a><h4 class="code-header">fn <a href="../os/unix/io/trait.AsRawFd.html#tymethod.as_raw_fd" class="fnname">as_raw_fd</a>(&amp;self) -&gt; <a class="type" href="../os/unix/io/type.RawFd.html" title="type std::os::unix::io::RawFd">RawFd</a></h4></div></summary><div class="item-info"><div class="stab portability">This is supported on <strong>Unix</strong> only.</div></div><div class='docblock'><p>Extracts the raw file descriptor. <a href="../os/unix/io/trait.AsRawFd.html#tymethod.as_raw_fd">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-AsRawSocket" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/os/windows/io/raw.rs.html#169-174" title="goto source code">[src]</a></div><a href="#impl-AsRawSocket" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../os/windows/io/trait.AsRawSocket.html" title="trait std::os::windows::io::AsRawSocket">AsRawSocket</a> for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3><div class="item-info"><div class="stab portability">This is supported on <strong>Windows</strong> only.</div></div></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.as_raw_socket" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/os/windows/io/raw.rs.html#171-173" title="goto source code">[src]</a></div><a href="#method.as_raw_socket" class="anchor"></a><h4 class="code-header">fn <a href="../os/windows/io/trait.AsRawSocket.html#tymethod.as_raw_socket" class="fnname">as_raw_socket</a>(&amp;self) -&gt; <a class="type" href="../os/windows/io/type.RawSocket.html" title="type std::os::windows::io::RawSocket">RawSocket</a></h4></div></summary><div class='docblock'><p>Extracts the underlying raw socket from this object.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-AsSocket" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/os/windows/io/socket.rs.html#155-160" title="goto source code">[src]</a></div><a href="#impl-AsSocket" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../os/windows/io/trait.AsSocket.html" title="trait std::os::windows::io::AsSocket">AsSocket</a> for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3><div class="item-info"><div class="stab portability">This is supported on <strong>Windows</strong> only.</div></div></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.as_socket" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/os/windows/io/socket.rs.html#157-159" title="goto source code">[src]</a></div><a href="#method.as_socket" class="anchor"></a><h4 class="code-header">fn <a href="../os/windows/io/trait.AsSocket.html#tymethod.as_socket" class="fnname">as_socket</a>(&amp;self) -&gt; <a class="struct" href="../os/windows/io/struct.BorrowedSocket.html" title="struct std::os::windows::io::BorrowedSocket">BorrowedSocket</a>&lt;'_&gt;</h4></div></summary><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>io_safety</code>&nbsp;<a href="https://github.com/rust-lang/rust/issues/87074">#87074</a>)</div></div><div class='docblock'><p>Borrows the socket.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-Debug" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#715-719" title="goto source code">[src]</a></div><a href="#impl-Debug" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../fmt/trait.Debug.html" title="trait std::fmt::Debug">Debug</a> for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.fmt" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#716-718" title="goto source code">[src]</a></div><a href="#method.fmt" class="anchor"></a><h4 class="code-header">fn <a href="../fmt/trait.Debug.html#tymethod.fmt" class="fnname">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="../fmt/struct.Formatter.html" title="struct std::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="../fmt/type.Result.html" title="type std::fmt::Result">Result</a></h4></div></summary><div class='docblock'><p>Formats the value using the given formatter. <a href="../fmt/trait.Debug.html#tymethod.fmt">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-From%3COwnedFd%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/os/fd/owned.rs.html#230-237" title="goto source code">[src]</a></div><a href="#impl-From%3COwnedFd%3E" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../convert/trait.From.html" title="trait std::convert::From">From</a>&lt;<a class="struct" href="../os/unix/io/struct.OwnedFd.html" title="struct std::os::unix::io::OwnedFd">OwnedFd</a>&gt; for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.from-3" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/os/fd/owned.rs.html#232-236" title="goto source code">[src]</a></div><a href="#method.from-3" class="anchor"></a><h4 class="code-header">fn <a href="../convert/trait.From.html#tymethod.from" class="fnname">from</a>(owned_fd: <a class="struct" href="../os/unix/io/struct.OwnedFd.html" title="struct std::os::unix::io::OwnedFd">OwnedFd</a>) -&gt; Self</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-From%3COwnedSocket%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/os/windows/io/socket.rs.html#169-174" title="goto source code">[src]</a></div><a href="#impl-From%3COwnedSocket%3E" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../convert/trait.From.html" title="trait std::convert::From">From</a>&lt;<a class="struct" href="../os/windows/io/struct.OwnedSocket.html" title="struct std::os::windows::io::OwnedSocket">OwnedSocket</a>&gt; for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3><div class="item-info"><div class="stab portability">This is supported on <strong>Windows</strong> only.</div></div></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.from-1" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/os/windows/io/socket.rs.html#171-173" title="goto source code">[src]</a></div><a href="#method.from-1" class="anchor"></a><h4 class="code-header">fn <a href="../convert/trait.From.html#tymethod.from" class="fnname">from</a>(owned: <a class="struct" href="../os/windows/io/struct.OwnedSocket.html" title="struct std::os::windows::io::OwnedSocket">OwnedSocket</a>) -&gt; Self</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-From%3CTcpStream%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/os/windows/io/socket.rs.html#162-167" title="goto source code">[src]</a></div><a href="#impl-From%3CTcpStream%3E" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../convert/trait.From.html" title="trait std::convert::From">From</a>&lt;<a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a>&gt; for <a class="struct" href="../os/windows/io/struct.OwnedSocket.html" title="struct std::os::windows::io::OwnedSocket">OwnedSocket</a></h3><div class="item-info"><div class="stab portability">This is supported on <strong>Windows</strong> only.</div></div></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.from" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/os/windows/io/socket.rs.html#164-166" title="goto source code">[src]</a></div><a href="#method.from" class="anchor"></a><h4 class="code-header">fn <a href="../convert/trait.From.html#tymethod.from" class="fnname">from</a>(tcp_stream: <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a>) -&gt; <a class="struct" href="../os/windows/io/struct.OwnedSocket.html" title="struct std::os::windows::io::OwnedSocket">OwnedSocket</a></h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-From%3CTcpStream%3E-1" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/os/fd/owned.rs.html#222-227" title="goto source code">[src]</a></div><a href="#impl-From%3CTcpStream%3E-1" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../convert/trait.From.html" title="trait std::convert::From">From</a>&lt;<a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a>&gt; for <a class="struct" href="../os/unix/io/struct.OwnedFd.html" title="struct std::os::unix::io::OwnedFd">OwnedFd</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.from-2" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/os/fd/owned.rs.html#224-226" title="goto source code">[src]</a></div><a href="#method.from-2" class="anchor"></a><h4 class="code-header">fn <a href="../convert/trait.From.html#tymethod.from" class="fnname">from</a>(tcp_stream: <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a>) -&gt; <a class="struct" href="../os/unix/io/struct.OwnedFd.html" title="struct std::os::unix::io::OwnedFd">OwnedFd</a></h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-FromRawFd" class="impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.1.0">1.1.0</span><a class="srclink" href="../../src/std/os/fd/net.rs.html#33" title="goto source code">[src]</a></div><a href="#impl-FromRawFd" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../os/unix/io/trait.FromRawFd.html" title="trait std::os::unix::io::FromRawFd">FromRawFd</a> for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.from_raw_fd" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/os/fd/net.rs.html#33" title="goto source code">[src]</a></div><a href="#method.from_raw_fd" class="anchor"></a><h4 class="code-header">unsafe fn <a href="../os/unix/io/trait.FromRawFd.html#tymethod.from_raw_fd" class="fnname">from_raw_fd</a>(fd: <a class="type" href="../os/unix/io/type.RawFd.html" title="type std::os::unix::io::RawFd">RawFd</a>) -&gt; <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a><span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<div class="notable-traits-tooltiptext"><span class="docblock"><div class="notable">Notable traits for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></div><code class="content"><span class="where fmt-newline">impl <a class="trait" href="../io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></span><span class="where fmt-newline">impl <a class="trait" href="../io/trait.Read.html" title="trait std::io::Read">Read</a> for &amp;<a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></span><span class="where fmt-newline">impl <a class="trait" href="../io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></span><span class="where fmt-newline">impl <a class="trait" href="../io/trait.Write.html" title="trait std::io::Write">Write</a> for &amp;<a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></span></code></span></div></span></span></h4></div></summary><div class="item-info"><div class="stab portability">This is supported on <strong>Unix</strong> only.</div></div><div class='docblock'><p>Constructs a new instance of <code>Self</code> from the given raw file
descriptor. <a href="../os/unix/io/trait.FromRawFd.html#tymethod.from_raw_fd">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-FromRawSocket" class="impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.1.0">1.1.0</span><a class="srclink" href="../../src/std/os/windows/io/raw.rs.html#191-197" title="goto source code">[src]</a></div><a href="#impl-FromRawSocket" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../os/windows/io/trait.FromRawSocket.html" title="trait std::os::windows::io::FromRawSocket">FromRawSocket</a> for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3><div class="item-info"><div class="stab portability">This is supported on <strong>Windows</strong> only.</div></div></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.from_raw_socket" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/os/windows/io/raw.rs.html#193-196" title="goto source code">[src]</a></div><a href="#method.from_raw_socket" class="anchor"></a><h4 class="code-header">unsafe fn <a href="../os/windows/io/trait.FromRawSocket.html#tymethod.from_raw_socket" class="fnname">from_raw_socket</a>(sock: <a class="type" href="../os/windows/io/type.RawSocket.html" title="type std::os::windows::io::RawSocket">RawSocket</a>) -&gt; <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a><span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<div class="notable-traits-tooltiptext"><span class="docblock"><div class="notable">Notable traits for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></div><code class="content"><span class="where fmt-newline">impl <a class="trait" href="../io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></span><span class="where fmt-newline">impl <a class="trait" href="../io/trait.Read.html" title="trait std::io::Read">Read</a> for &amp;<a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></span><span class="where fmt-newline">impl <a class="trait" href="../io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></span><span class="where fmt-newline">impl <a class="trait" href="../io/trait.Write.html" title="trait std::io::Write">Write</a> for &amp;<a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></span></code></span></div></span></span></h4></div></summary><div class='docblock'><p>Creates a new I/O object from the given raw socket. <a href="../os/windows/io/trait.FromRawSocket.html#tymethod.from_raw_socket">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-IntoRawFd" class="impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.4.0">1.4.0</span><a class="srclink" href="../../src/std/os/fd/net.rs.html#46" title="goto source code">[src]</a></div><a href="#impl-IntoRawFd" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../os/unix/io/trait.IntoRawFd.html" title="trait std::os::unix::io::IntoRawFd">IntoRawFd</a> for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.into_raw_fd" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/os/fd/net.rs.html#46" title="goto source code">[src]</a></div><a href="#method.into_raw_fd" class="anchor"></a><h4 class="code-header">fn <a href="../os/unix/io/trait.IntoRawFd.html#tymethod.into_raw_fd" class="fnname">into_raw_fd</a>(self) -&gt; <a class="type" href="../os/unix/io/type.RawFd.html" title="type std::os::unix::io::RawFd">RawFd</a></h4></div></summary><div class="item-info"><div class="stab portability">This is supported on <strong>Unix</strong> only.</div></div><div class='docblock'><p>Consumes this object, returning the raw underlying file descriptor. <a href="../os/unix/io/trait.IntoRawFd.html#tymethod.into_raw_fd">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-IntoRawSocket" class="impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.4.0">1.4.0</span><a class="srclink" href="../../src/std/os/windows/io/raw.rs.html#216-221" title="goto source code">[src]</a></div><a href="#impl-IntoRawSocket" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../os/windows/io/trait.IntoRawSocket.html" title="trait std::os::windows::io::IntoRawSocket">IntoRawSocket</a> for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3><div class="item-info"><div class="stab portability">This is supported on <strong>Windows</strong> only.</div></div></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.into_raw_socket" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/os/windows/io/raw.rs.html#218-220" title="goto source code">[src]</a></div><a href="#method.into_raw_socket" class="anchor"></a><h4 class="code-header">fn <a href="../os/windows/io/trait.IntoRawSocket.html#tymethod.into_raw_socket" class="fnname">into_raw_socket</a>(self) -&gt; <a class="type" href="../os/windows/io/type.RawSocket.html" title="type std::os::windows::io::RawSocket">RawSocket</a></h4></div></summary><div class='docblock'><p>Consumes this object, returning the raw underlying socket. <a href="../os/windows/io/trait.IntoRawSocket.html#tymethod.into_raw_socket">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-Read" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#616-635" title="goto source code">[src]</a></div><a href="#impl-Read" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.read" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#617-619" title="goto source code">[src]</a></div><a href="#method.read" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Read.html#tymethod.read" class="fnname">read</a>(&amp;mut self, buf: <a class="primitive" href="../primitive.slice.html">&amp;mut [</a><a class="primitive" href="../primitive.u8.html">u8</a><a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.usize.html">usize</a>&gt;</h4></div></summary><div class='docblock'><p>Pull some bytes from this source into the specified buffer, returning
how many bytes were read. <a href="../io/trait.Read.html#tymethod.read">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.read_vectored" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#621-623" title="goto source code">[src]</a></div><a href="#method.read_vectored" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Read.html#method.read_vectored" class="fnname">read_vectored</a>(&amp;mut self, bufs: <a class="primitive" href="../primitive.slice.html">&amp;mut [</a><a class="struct" href="../io/struct.IoSliceMut.html" title="struct std::io::IoSliceMut">IoSliceMut</a>&lt;'_&gt;<a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.usize.html">usize</a>&gt;</h4></div></summary><div class='docblock'><p>Like <code>read</code>, except that it reads into a slice of buffers. <a href="../io/trait.Read.html#method.read_vectored">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.is_read_vectored" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#626-628" title="goto source code">[src]</a></div><a href="#method.is_read_vectored" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Read.html#method.is_read_vectored" class="fnname">is_read_vectored</a>(&amp;self) -&gt; <a class="primitive" href="../primitive.bool.html">bool</a></h4></div></summary><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>can_vector</code>&nbsp;<a href="https://github.com/rust-lang/rust/issues/69941">#69941</a>)</div></div><div class='docblock'><p>Determines if this <code>Read</code>er has an efficient <code>read_vectored</code>
implementation. <a href="../io/trait.Read.html#method.is_read_vectored">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.initializer" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#631-634" title="goto source code">[src]</a></div><a href="#method.initializer" class="anchor"></a><h4 class="code-header">unsafe fn <a href="../io/trait.Read.html#method.initializer" class="fnname">initializer</a>(&amp;self) -&gt; <a class="struct" href="../io/struct.Initializer.html" title="struct std::io::Initializer">Initializer</a></h4></div></summary><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>read_initializer</code>&nbsp;<a href="https://github.com/rust-lang/rust/issues/42788">#42788</a>)</div></div><div class='docblock'><p>Determines if this <code>Read</code>er can work with buffers of uninitialized
memory. <a href="../io/trait.Read.html#method.initializer">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.read_to_end" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#731-733" title="goto source code">[src]</a></div><a href="#method.read_to_end" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Read.html#method.read_to_end" class="fnname">read_to_end</a>(&amp;mut self, buf: &amp;mut <a class="struct" href="../vec/struct.Vec.html" title="struct std::vec::Vec">Vec</a>&lt;<a class="primitive" href="../primitive.u8.html">u8</a>&gt;) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.usize.html">usize</a>&gt;</h4></div></summary><div class='docblock'><p>Read all bytes until EOF in this source, placing them into <code>buf</code>. <a href="../io/trait.Read.html#method.read_to_end">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.read_to_string" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#774-776" title="goto source code">[src]</a></div><a href="#method.read_to_string" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Read.html#method.read_to_string" class="fnname">read_to_string</a>(&amp;mut self, buf: &amp;mut <a class="struct" href="../string/struct.String.html" title="struct std::string::String">String</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.usize.html">usize</a>&gt;</h4></div></summary><div class='docblock'><p>Read all bytes until EOF in this source, appending them to <code>buf</code>. <a href="../io/trait.Read.html#method.read_to_string">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.read_exact" class="method trait-impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.6.0">1.6.0</span><a class="srclink" href="../../src/std/io/mod.rs.html#829-831" title="goto source code">[src]</a></div><a href="#method.read_exact" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Read.html#method.read_exact" class="fnname">read_exact</a>(&amp;mut self, buf: <a class="primitive" href="../primitive.slice.html">&amp;mut [</a><a class="primitive" href="../primitive.u8.html">u8</a><a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div></summary><div class='docblock'><p>Read the exact number of bytes required to fill <code>buf</code>. <a href="../io/trait.Read.html#method.read_exact">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.by_ref" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#868-873" title="goto source code">[src]</a></div><a href="#method.by_ref" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Read.html#method.by_ref" class="fnname">by_ref</a>(&amp;mut self) -&gt; <a class="primitive" href="../primitive.reference.html">&amp;mut </a>Self <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="../marker/trait.Sized.html" title="trait std::marker::Sized">Sized</a>,&nbsp;</span></h4></div></summary><div class='docblock'><p>Creates a “by reference” adapter for this instance of <code>Read</code>. <a href="../io/trait.Read.html#method.by_ref">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.bytes" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#906-911" title="goto source code">[src]</a></div><a href="#method.bytes" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Read.html#method.bytes" class="fnname">bytes</a>(self) -&gt; <a class="struct" href="../io/struct.Bytes.html" title="struct std::io::Bytes">Bytes</a>&lt;Self&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<div class="notable-traits-tooltiptext"><span class="docblock"><div class="notable">Notable traits for <a class="struct" href="../io/struct.Bytes.html" title="struct std::io::Bytes">Bytes</a>&lt;R&gt;</div><code class="content"><span class="where fmt-newline">impl&lt;R:&nbsp;<a class="trait" href="../io/trait.Read.html" title="trait std::io::Read">Read</a>&gt; <a class="trait" href="../iter/trait.Iterator.html" title="trait std::iter::Iterator">Iterator</a> for <a class="struct" href="../io/struct.Bytes.html" title="struct std::io::Bytes">Bytes</a>&lt;R&gt;</span><span class="where fmt-newline">    type <a href="../iter/trait.Iterator.html#associatedtype.Item" class="type">Item</a> = <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.u8.html">u8</a>&gt;;</span></code></span></div></span></span> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="../marker/trait.Sized.html" title="trait std::marker::Sized">Sized</a>,&nbsp;</span></h4></div></summary><div class='docblock'><p>Transforms this <code>Read</code> instance to an <a href="../iter/trait.Iterator.html" title="Iterator"><code>Iterator</code></a> over its bytes. <a href="../io/trait.Read.html#method.bytes">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.chain" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#944-949" title="goto source code">[src]</a></div><a href="#method.chain" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Read.html#method.chain" class="fnname">chain</a>&lt;R:&nbsp;<a class="trait" href="../io/trait.Read.html" title="trait std::io::Read">Read</a>&gt;(self, next: R) -&gt; <a class="struct" href="../io/struct.Chain.html" title="struct std::io::Chain">Chain</a>&lt;Self, R&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<div class="notable-traits-tooltiptext"><span class="docblock"><div class="notable">Notable traits for <a class="struct" href="../io/struct.Chain.html" title="struct std::io::Chain">Chain</a>&lt;T, U&gt;</div><code class="content"><span class="where fmt-newline">impl&lt;T:&nbsp;<a class="trait" href="../io/trait.Read.html" title="trait std::io::Read">Read</a>, U:&nbsp;<a class="trait" href="../io/trait.Read.html" title="trait std::io::Read">Read</a>&gt; <a class="trait" href="../io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="struct" href="../io/struct.Chain.html" title="struct std::io::Chain">Chain</a>&lt;T, U&gt;</span></code></span></div></span></span> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="../marker/trait.Sized.html" title="trait std::marker::Sized">Sized</a>,&nbsp;</span></h4></div></summary><div class='docblock'><p>Creates an adapter which will chain this stream with another. <a href="../io/trait.Read.html#method.chain">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.take" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#983-988" title="goto source code">[src]</a></div><a href="#method.take" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Read.html#method.take" class="fnname">take</a>(self, limit: <a class="primitive" href="../primitive.u64.html">u64</a>) -&gt; <a class="struct" href="../io/struct.Take.html" title="struct std::io::Take">Take</a>&lt;Self&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<div class="notable-traits-tooltiptext"><span class="docblock"><div class="notable">Notable traits for <a class="struct" href="../io/struct.Take.html" title="struct std::io::Take">Take</a>&lt;T&gt;</div><code class="content"><span class="where fmt-newline">impl&lt;T:&nbsp;<a class="trait" href="../io/trait.Read.html" title="trait std::io::Read">Read</a>&gt; <a class="trait" href="../io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="struct" href="../io/struct.Take.html" title="struct std::io::Take">Take</a>&lt;T&gt;</span></code></span></div></span></span> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="../marker/trait.Sized.html" title="trait std::marker::Sized">Sized</a>,&nbsp;</span></h4></div></summary><div class='docblock'><p>Creates an adapter which will read at most <code>limit</code> bytes from it. <a href="../io/trait.Read.html#method.take">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-Read-1" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#656-675" title="goto source code">[src]</a></div><a href="#impl-Read-1" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../io/trait.Read.html" title="trait std::io::Read">Read</a> for &amp;<a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.read-1" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#657-659" title="goto source code">[src]</a></div><a href="#method.read-1" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Read.html#tymethod.read" class="fnname">read</a>(&amp;mut self, buf: <a class="primitive" href="../primitive.slice.html">&amp;mut [</a><a class="primitive" href="../primitive.u8.html">u8</a><a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.usize.html">usize</a>&gt;</h4></div></summary><div class='docblock'><p>Pull some bytes from this source into the specified buffer, returning
how many bytes were read. <a href="../io/trait.Read.html#tymethod.read">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.read_vectored-1" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#661-663" title="goto source code">[src]</a></div><a href="#method.read_vectored-1" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Read.html#method.read_vectored" class="fnname">read_vectored</a>(&amp;mut self, bufs: <a class="primitive" href="../primitive.slice.html">&amp;mut [</a><a class="struct" href="../io/struct.IoSliceMut.html" title="struct std::io::IoSliceMut">IoSliceMut</a>&lt;'_&gt;<a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.usize.html">usize</a>&gt;</h4></div></summary><div class='docblock'><p>Like <code>read</code>, except that it reads into a slice of buffers. <a href="../io/trait.Read.html#method.read_vectored">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.is_read_vectored-1" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#666-668" title="goto source code">[src]</a></div><a href="#method.is_read_vectored-1" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Read.html#method.is_read_vectored" class="fnname">is_read_vectored</a>(&amp;self) -&gt; <a class="primitive" href="../primitive.bool.html">bool</a></h4></div></summary><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>can_vector</code>&nbsp;<a href="https://github.com/rust-lang/rust/issues/69941">#69941</a>)</div></div><div class='docblock'><p>Determines if this <code>Read</code>er has an efficient <code>read_vectored</code>
implementation. <a href="../io/trait.Read.html#method.is_read_vectored">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.initializer-1" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#671-674" title="goto source code">[src]</a></div><a href="#method.initializer-1" class="anchor"></a><h4 class="code-header">unsafe fn <a href="../io/trait.Read.html#method.initializer" class="fnname">initializer</a>(&amp;self) -&gt; <a class="struct" href="../io/struct.Initializer.html" title="struct std::io::Initializer">Initializer</a></h4></div></summary><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>read_initializer</code>&nbsp;<a href="https://github.com/rust-lang/rust/issues/42788">#42788</a>)</div></div><div class='docblock'><p>Determines if this <code>Read</code>er can work with buffers of uninitialized
memory. <a href="../io/trait.Read.html#method.initializer">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.read_to_end-1" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#731-733" title="goto source code">[src]</a></div><a href="#method.read_to_end-1" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Read.html#method.read_to_end" class="fnname">read_to_end</a>(&amp;mut self, buf: &amp;mut <a class="struct" href="../vec/struct.Vec.html" title="struct std::vec::Vec">Vec</a>&lt;<a class="primitive" href="../primitive.u8.html">u8</a>&gt;) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.usize.html">usize</a>&gt;</h4></div></summary><div class='docblock'><p>Read all bytes until EOF in this source, placing them into <code>buf</code>. <a href="../io/trait.Read.html#method.read_to_end">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.read_to_string-1" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#774-776" title="goto source code">[src]</a></div><a href="#method.read_to_string-1" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Read.html#method.read_to_string" class="fnname">read_to_string</a>(&amp;mut self, buf: &amp;mut <a class="struct" href="../string/struct.String.html" title="struct std::string::String">String</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.usize.html">usize</a>&gt;</h4></div></summary><div class='docblock'><p>Read all bytes until EOF in this source, appending them to <code>buf</code>. <a href="../io/trait.Read.html#method.read_to_string">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.read_exact-1" class="method trait-impl has-srclink"><div class="rightside"><span class="since" title="Stable since Rust version 1.6.0">1.6.0</span><a class="srclink" href="../../src/std/io/mod.rs.html#829-831" title="goto source code">[src]</a></div><a href="#method.read_exact-1" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Read.html#method.read_exact" class="fnname">read_exact</a>(&amp;mut self, buf: <a class="primitive" href="../primitive.slice.html">&amp;mut [</a><a class="primitive" href="../primitive.u8.html">u8</a><a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div></summary><div class='docblock'><p>Read the exact number of bytes required to fill <code>buf</code>. <a href="../io/trait.Read.html#method.read_exact">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.by_ref-1" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#868-873" title="goto source code">[src]</a></div><a href="#method.by_ref-1" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Read.html#method.by_ref" class="fnname">by_ref</a>(&amp;mut self) -&gt; <a class="primitive" href="../primitive.reference.html">&amp;mut </a>Self <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="../marker/trait.Sized.html" title="trait std::marker::Sized">Sized</a>,&nbsp;</span></h4></div></summary><div class='docblock'><p>Creates a “by reference” adapter for this instance of <code>Read</code>. <a href="../io/trait.Read.html#method.by_ref">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.bytes-1" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#906-911" title="goto source code">[src]</a></div><a href="#method.bytes-1" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Read.html#method.bytes" class="fnname">bytes</a>(self) -&gt; <a class="struct" href="../io/struct.Bytes.html" title="struct std::io::Bytes">Bytes</a>&lt;Self&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<div class="notable-traits-tooltiptext"><span class="docblock"><div class="notable">Notable traits for <a class="struct" href="../io/struct.Bytes.html" title="struct std::io::Bytes">Bytes</a>&lt;R&gt;</div><code class="content"><span class="where fmt-newline">impl&lt;R:&nbsp;<a class="trait" href="../io/trait.Read.html" title="trait std::io::Read">Read</a>&gt; <a class="trait" href="../iter/trait.Iterator.html" title="trait std::iter::Iterator">Iterator</a> for <a class="struct" href="../io/struct.Bytes.html" title="struct std::io::Bytes">Bytes</a>&lt;R&gt;</span><span class="where fmt-newline">    type <a href="../iter/trait.Iterator.html#associatedtype.Item" class="type">Item</a> = <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.u8.html">u8</a>&gt;;</span></code></span></div></span></span> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="../marker/trait.Sized.html" title="trait std::marker::Sized">Sized</a>,&nbsp;</span></h4></div></summary><div class='docblock'><p>Transforms this <code>Read</code> instance to an <a href="../iter/trait.Iterator.html" title="Iterator"><code>Iterator</code></a> over its bytes. <a href="../io/trait.Read.html#method.bytes">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.chain-1" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#944-949" title="goto source code">[src]</a></div><a href="#method.chain-1" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Read.html#method.chain" class="fnname">chain</a>&lt;R:&nbsp;<a class="trait" href="../io/trait.Read.html" title="trait std::io::Read">Read</a>&gt;(self, next: R) -&gt; <a class="struct" href="../io/struct.Chain.html" title="struct std::io::Chain">Chain</a>&lt;Self, R&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<div class="notable-traits-tooltiptext"><span class="docblock"><div class="notable">Notable traits for <a class="struct" href="../io/struct.Chain.html" title="struct std::io::Chain">Chain</a>&lt;T, U&gt;</div><code class="content"><span class="where fmt-newline">impl&lt;T:&nbsp;<a class="trait" href="../io/trait.Read.html" title="trait std::io::Read">Read</a>, U:&nbsp;<a class="trait" href="../io/trait.Read.html" title="trait std::io::Read">Read</a>&gt; <a class="trait" href="../io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="struct" href="../io/struct.Chain.html" title="struct std::io::Chain">Chain</a>&lt;T, U&gt;</span></code></span></div></span></span> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="../marker/trait.Sized.html" title="trait std::marker::Sized">Sized</a>,&nbsp;</span></h4></div></summary><div class='docblock'><p>Creates an adapter which will chain this stream with another. <a href="../io/trait.Read.html#method.chain">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.take-1" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#983-988" title="goto source code">[src]</a></div><a href="#method.take-1" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Read.html#method.take" class="fnname">take</a>(self, limit: <a class="primitive" href="../primitive.u64.html">u64</a>) -&gt; <a class="struct" href="../io/struct.Take.html" title="struct std::io::Take">Take</a>&lt;Self&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<div class="notable-traits-tooltiptext"><span class="docblock"><div class="notable">Notable traits for <a class="struct" href="../io/struct.Take.html" title="struct std::io::Take">Take</a>&lt;T&gt;</div><code class="content"><span class="where fmt-newline">impl&lt;T:&nbsp;<a class="trait" href="../io/trait.Read.html" title="trait std::io::Read">Read</a>&gt; <a class="trait" href="../io/trait.Read.html" title="trait std::io::Read">Read</a> for <a class="struct" href="../io/struct.Take.html" title="struct std::io::Take">Take</a>&lt;T&gt;</span></code></span></div></span></span> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="../marker/trait.Sized.html" title="trait std::marker::Sized">Sized</a>,&nbsp;</span></h4></div></summary><div class='docblock'><p>Creates an adapter which will read at most <code>limit</code> bytes from it. <a href="../io/trait.Read.html#method.take">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-Write" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#637-654" title="goto source code">[src]</a></div><a href="#impl-Write" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.write" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#638-640" title="goto source code">[src]</a></div><a href="#method.write" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Write.html#tymethod.write" class="fnname">write</a>(&amp;mut self, buf: <a class="primitive" href="../primitive.slice.html">&amp;[</a><a class="primitive" href="../primitive.u8.html">u8</a><a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.usize.html">usize</a>&gt;</h4></div></summary><div class='docblock'><p>Write a buffer into this writer, returning how many bytes were written. <a href="../io/trait.Write.html#tymethod.write">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.write_vectored" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#642-644" title="goto source code">[src]</a></div><a href="#method.write_vectored" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Write.html#method.write_vectored" class="fnname">write_vectored</a>(&amp;mut self, bufs: <a class="primitive" href="../primitive.slice.html">&amp;[</a><a class="struct" href="../io/struct.IoSlice.html" title="struct std::io::IoSlice">IoSlice</a>&lt;'_&gt;<a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.usize.html">usize</a>&gt;</h4></div></summary><div class='docblock'><p>Like <a href="../io/trait.Write.html#tymethod.write"><code>write</code></a>, except that it writes from a slice of buffers. <a href="../io/trait.Write.html#method.write_vectored">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.is_write_vectored" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#647-649" title="goto source code">[src]</a></div><a href="#method.is_write_vectored" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Write.html#method.is_write_vectored" class="fnname">is_write_vectored</a>(&amp;self) -&gt; <a class="primitive" href="../primitive.bool.html">bool</a></h4></div></summary><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>can_vector</code>&nbsp;<a href="https://github.com/rust-lang/rust/issues/69941">#69941</a>)</div></div><div class='docblock'><p>Determines if this <code>Write</code>r has an efficient <a href="../io/trait.Write.html#method.write_vectored"><code>write_vectored</code></a>
implementation. <a href="../io/trait.Write.html#method.is_write_vectored">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.flush" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#651-653" title="goto source code">[src]</a></div><a href="#method.flush" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Write.html#tymethod.flush" class="fnname">flush</a>(&amp;mut self) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div></summary><div class='docblock'><p>Flush this output stream, ensuring that all intermediately buffered
contents reach their destination. <a href="../io/trait.Write.html#tymethod.flush">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.write_all" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#1555-1570" title="goto source code">[src]</a></div><a href="#method.write_all" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Write.html#method.write_all" class="fnname">write_all</a>(&amp;mut self, buf: <a class="primitive" href="../primitive.slice.html">&amp;[</a><a class="primitive" href="../primitive.u8.html">u8</a><a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div></summary><div class='docblock'><p>Attempts to write an entire buffer into this writer. <a href="../io/trait.Write.html#method.write_all">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.write_all_vectored" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#1620-1638" title="goto source code">[src]</a></div><a href="#method.write_all_vectored" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Write.html#method.write_all_vectored" class="fnname">write_all_vectored</a>(&amp;mut self, bufs: <a class="primitive" href="../primitive.slice.html">&amp;mut [</a><a class="struct" href="../io/struct.IoSlice.html" title="struct std::io::IoSlice">IoSlice</a>&lt;'_&gt;<a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div></summary><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>write_all_vectored</code>&nbsp;<a href="https://github.com/rust-lang/rust/issues/70436">#70436</a>)</div></div><div class='docblock'><p>Attempts to write multiple buffers into this writer. <a href="../io/trait.Write.html#method.write_all_vectored">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.write_fmt" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#1676-1708" title="goto source code">[src]</a></div><a href="#method.write_fmt" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Write.html#method.write_fmt" class="fnname">write_fmt</a>(&amp;mut self, fmt: <a class="struct" href="../fmt/struct.Arguments.html" title="struct std::fmt::Arguments">Arguments</a>&lt;'_&gt;) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div></summary><div class='docblock'><p>Writes a formatted string into this writer, returning any error
encountered. <a href="../io/trait.Write.html#method.write_fmt">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.by_ref-2" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#1732-1737" title="goto source code">[src]</a></div><a href="#method.by_ref-2" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Write.html#method.by_ref" class="fnname">by_ref</a>(&amp;mut self) -&gt; <a class="primitive" href="../primitive.reference.html">&amp;mut </a>Self <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="../marker/trait.Sized.html" title="trait std::marker::Sized">Sized</a>,&nbsp;</span></h4></div></summary><div class='docblock'><p>Creates a “by reference” adapter for this instance of <code>Write</code>. <a href="../io/trait.Write.html#method.by_ref">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-Write-1" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#677-694" title="goto source code">[src]</a></div><a href="#impl-Write-1" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../io/trait.Write.html" title="trait std::io::Write">Write</a> for &amp;<a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.write-1" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#678-680" title="goto source code">[src]</a></div><a href="#method.write-1" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Write.html#tymethod.write" class="fnname">write</a>(&amp;mut self, buf: <a class="primitive" href="../primitive.slice.html">&amp;[</a><a class="primitive" href="../primitive.u8.html">u8</a><a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.usize.html">usize</a>&gt;</h4></div></summary><div class='docblock'><p>Write a buffer into this writer, returning how many bytes were written. <a href="../io/trait.Write.html#tymethod.write">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.write_vectored-1" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#682-684" title="goto source code">[src]</a></div><a href="#method.write_vectored-1" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Write.html#method.write_vectored" class="fnname">write_vectored</a>(&amp;mut self, bufs: <a class="primitive" href="../primitive.slice.html">&amp;[</a><a class="struct" href="../io/struct.IoSlice.html" title="struct std::io::IoSlice">IoSlice</a>&lt;'_&gt;<a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.usize.html">usize</a>&gt;</h4></div></summary><div class='docblock'><p>Like <a href="../io/trait.Write.html#tymethod.write"><code>write</code></a>, except that it writes from a slice of buffers. <a href="../io/trait.Write.html#method.write_vectored">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.is_write_vectored-1" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#687-689" title="goto source code">[src]</a></div><a href="#method.is_write_vectored-1" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Write.html#method.is_write_vectored" class="fnname">is_write_vectored</a>(&amp;self) -&gt; <a class="primitive" href="../primitive.bool.html">bool</a></h4></div></summary><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>can_vector</code>&nbsp;<a href="https://github.com/rust-lang/rust/issues/69941">#69941</a>)</div></div><div class='docblock'><p>Determines if this <code>Write</code>r has an efficient <a href="../io/trait.Write.html#method.write_vectored"><code>write_vectored</code></a>
implementation. <a href="../io/trait.Write.html#method.is_write_vectored">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.flush-1" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/net/tcp.rs.html#691-693" title="goto source code">[src]</a></div><a href="#method.flush-1" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Write.html#tymethod.flush" class="fnname">flush</a>(&amp;mut self) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div></summary><div class='docblock'><p>Flush this output stream, ensuring that all intermediately buffered
contents reach their destination. <a href="../io/trait.Write.html#tymethod.flush">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.write_all-1" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#1555-1570" title="goto source code">[src]</a></div><a href="#method.write_all-1" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Write.html#method.write_all" class="fnname">write_all</a>(&amp;mut self, buf: <a class="primitive" href="../primitive.slice.html">&amp;[</a><a class="primitive" href="../primitive.u8.html">u8</a><a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div></summary><div class='docblock'><p>Attempts to write an entire buffer into this writer. <a href="../io/trait.Write.html#method.write_all">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.write_all_vectored-1" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#1620-1638" title="goto source code">[src]</a></div><a href="#method.write_all_vectored-1" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Write.html#method.write_all_vectored" class="fnname">write_all_vectored</a>(&amp;mut self, bufs: <a class="primitive" href="../primitive.slice.html">&amp;mut [</a><a class="struct" href="../io/struct.IoSlice.html" title="struct std::io::IoSlice">IoSlice</a>&lt;'_&gt;<a class="primitive" href="../primitive.slice.html">]</a>) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div></summary><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>write_all_vectored</code>&nbsp;<a href="https://github.com/rust-lang/rust/issues/70436">#70436</a>)</div></div><div class='docblock'><p>Attempts to write multiple buffers into this writer. <a href="../io/trait.Write.html#method.write_all_vectored">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.write_fmt-1" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#1676-1708" title="goto source code">[src]</a></div><a href="#method.write_fmt-1" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Write.html#method.write_fmt" class="fnname">write_fmt</a>(&amp;mut self, fmt: <a class="struct" href="../fmt/struct.Arguments.html" title="struct std::fmt::Arguments">Arguments</a>&lt;'_&gt;) -&gt; <a class="type" href="../io/type.Result.html" title="type std::io::Result">Result</a>&lt;<a class="primitive" href="../primitive.unit.html">()</a>&gt;</h4></div></summary><div class='docblock'><p>Writes a formatted string into this writer, returning any error
encountered. <a href="../io/trait.Write.html#method.write_fmt">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.by_ref-3" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/std/io/mod.rs.html#1732-1737" title="goto source code">[src]</a></div><a href="#method.by_ref-3" class="anchor"></a><h4 class="code-header">fn <a href="../io/trait.Write.html#method.by_ref" class="fnname">by_ref</a>(&amp;mut self) -&gt; <a class="primitive" href="../primitive.reference.html">&amp;mut </a>Self <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="../marker/trait.Sized.html" title="trait std::marker::Sized">Sized</a>,&nbsp;</span></h4></div></summary><div class='docblock'><p>Creates a “by reference” adapter for this instance of <code>Write</code>. <a href="../io/trait.Write.html#method.by_ref">Read more</a></p>
</div></details></div></details></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor"></a></h2><div id="synthetic-implementations-list"><div id="impl-RefUnwindSafe" class="impl has-srclink"><div class="rightside"></div><a href="#impl-RefUnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../panic/trait.RefUnwindSafe.html" title="trait std::panic::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3></div><div id="impl-Send" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Send" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../marker/trait.Send.html" title="trait std::marker::Send">Send</a> for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3></div><div id="impl-Sync" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Sync" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../marker/trait.Sync.html" title="trait std::marker::Sync">Sync</a> for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3></div><div id="impl-Unpin" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Unpin" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../marker/trait.Unpin.html" title="trait std::marker::Unpin">Unpin</a> for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3></div><div id="impl-UnwindSafe" class="impl has-srclink"><div class="rightside"></div><a href="#impl-UnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="../panic/trait.UnwindSafe.html" title="trait std::panic::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.TcpStream.html" title="struct std::net::TcpStream">TcpStream</a></h3></div></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor"></a></h2><div id="blanket-implementations-list"><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-Any" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/any.rs.html#132-136" title="goto source code">[src]</a></div><a href="#impl-Any" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="../any/trait.Any.html" title="trait std::any::Any">Any</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="../marker/trait.Sized.html" title="trait std::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.type_id" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/any.rs.html#133" title="goto source code">[src]</a></div><a href="#method.type_id" class="anchor"></a><h4 class="code-header">pub fn <a href="../any/trait.Any.html#tymethod.type_id" class="fnname">type_id</a>(&amp;self) -&gt; <a class="struct" href="../any/struct.TypeId.html" title="struct std::any::TypeId">TypeId</a></h4></div></summary><div class='docblock'><p>Gets the <code>TypeId</code> of <code>self</code>. <a href="../any/trait.Any.html#tymethod.type_id">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-Borrow%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/borrow.rs.html#208-213" title="goto source code">[src]</a></div><a href="#impl-Borrow%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="../borrow/trait.Borrow.html" title="trait std::borrow::Borrow">Borrow</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="../marker/trait.Sized.html" title="trait std::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.borrow" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/borrow.rs.html#210" title="goto source code">[src]</a></div><a href="#method.borrow" class="anchor"></a><h4 class="code-header">pub fn <a href="../borrow/trait.Borrow.html#tymethod.borrow" class="fnname">borrow</a>(&amp;self) -&gt; <a class="primitive" href="../primitive.reference.html">&amp;</a>T</h4></div></summary><div class='docblock'><p>Immutably borrows from an owned value. <a href="../borrow/trait.Borrow.html#tymethod.borrow">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-BorrowMut%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/borrow.rs.html#216-220" title="goto source code">[src]</a></div><a href="#impl-BorrowMut%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="../borrow/trait.BorrowMut.html" title="trait std::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="../marker/trait.Sized.html" title="trait std::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.borrow_mut" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/borrow.rs.html#217" title="goto source code">[src]</a></div><a href="#method.borrow_mut" class="anchor"></a><h4 class="code-header">pub fn <a href="../borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fnname">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="../primitive.reference.html">&amp;mut </a>T</h4></div></summary><div class='docblock'><p>Mutably borrows from an owned value. <a href="../borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-From%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/convert/mod.rs.html#549-553" title="goto source code">[src]</a></div><a href="#impl-From%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="../convert/trait.From.html" title="trait std::convert::From">From</a>&lt;T&gt; for T</h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.from-4" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/convert/mod.rs.html#550" title="goto source code">[src]</a></div><a href="#method.from-4" class="anchor"></a><h4 class="code-header">pub fn <a href="../convert/trait.From.html#tymethod.from" class="fnname">from</a>(t: T) -&gt; T</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-Into%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/convert/mod.rs.html#537-544" title="goto source code">[src]</a></div><a href="#impl-Into%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="../convert/trait.Into.html" title="trait std::convert::Into">Into</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="../convert/trait.From.html" title="trait std::convert::From">From</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.into" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/convert/mod.rs.html#541" title="goto source code">[src]</a></div><a href="#method.into" class="anchor"></a><h4 class="code-header">pub fn <a href="../convert/trait.Into.html#tymethod.into" class="fnname">into</a>(self) -&gt; U</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-TryFrom%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/convert/mod.rs.html#587-596" title="goto source code">[src]</a></div><a href="#impl-TryFrom%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="../convert/trait.TryFrom.html" title="trait std::convert::TryFrom">TryFrom</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="../convert/trait.Into.html" title="trait std::convert::Into">Into</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle" open=""><summary><div id="associatedtype.Error" class="type trait-impl has-srclink"><a href="#associatedtype.Error" class="anchor"></a><h4 class="code-header">type <a href="../convert/trait.TryFrom.html#associatedtype.Error" class="type">Error</a> = <a class="enum" href="../convert/enum.Infallible.html" title="enum std::convert::Infallible">Infallible</a></h4></div></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.try_from" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/convert/mod.rs.html#593" title="goto source code">[src]</a></div><a href="#method.try_from" class="anchor"></a><h4 class="code-header">pub fn <a href="../convert/trait.TryFrom.html#tymethod.try_from" class="fnname">try_from</a>(value: U) -&gt; <a class="enum" href="../result/enum.Result.html" title="enum std::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="../convert/trait.TryFrom.html" title="trait std::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="type" href="../convert/trait.TryFrom.html#associatedtype.Error" title="type std::convert::TryFrom::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open=""><summary><div id="impl-TryInto%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/convert/mod.rs.html#573-582" title="goto source code">[src]</a></div><a href="#impl-TryInto%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="../convert/trait.TryInto.html" title="trait std::convert::TryInto">TryInto</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="../convert/trait.TryFrom.html" title="trait std::convert::TryFrom">TryFrom</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle" open=""><summary><div id="associatedtype.Error-1" class="type trait-impl has-srclink"><a href="#associatedtype.Error-1" class="anchor"></a><h4 class="code-header">type <a href="../convert/trait.TryInto.html#associatedtype.Error" class="type">Error</a> = &lt;U as <a class="trait" href="../convert/trait.TryFrom.html" title="trait std::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="type" href="../convert/trait.TryFrom.html#associatedtype.Error" title="type std::convert::TryFrom::Error">Error</a></h4></div></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open=""><summary><div id="method.try_into" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../../src/core/convert/mod.rs.html#579" title="goto source code">[src]</a></div><a href="#method.try_into" class="anchor"></a><h4 class="code-header">pub fn <a href="../convert/trait.TryInto.html#tymethod.try_into" class="fnname">try_into</a>(self) -&gt; <a class="enum" href="../result/enum.Result.html" title="enum std::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="../convert/trait.TryFrom.html" title="trait std::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="type" href="../convert/trait.TryFrom.html#associatedtype.Error" title="type std::convert::TryFrom::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="std" data-search-index-js="../../search-index1.58.0.js" data-search-js="../../search1.58.0.js"></div>
</body></html>